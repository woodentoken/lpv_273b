
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>drawDATCOMaircraft</title><meta name="generator" content="MATLAB 7.11"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2011-12-01"><meta name="DC.source" content="drawDATCOMaircraft.m"><style type="text/css">

body {
  background-color: white;
  margin:10px;
}

h1 {
  color: #990000; 
  font-size: x-large;
}

h2 {
  color: #990000;
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows. */ 
p,h1,h2,div.content div {
  max-width: 600px;
  /* Hack for IE6 */
  width: auto !important; width: 600px;
}

pre.codeinput {
  background: #EEEEEE;
  padding: 10px;
}
@media print {
  pre.codeinput {word-wrap:break-word; width:100%;}
} 

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #A020F0}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

p.footer {
  text-align: right;
  font-size: xx-small;
  font-weight: lighter;
  font-style: italic;
  color: gray;
}

  </style></head><body><div class="content"><pre class="codeinput"><span class="keyword">function</span> drawDATCOMaircraft(datcominputfile)

<span class="comment">%--------------------------------------------------------------------------</span>
<span class="comment">%viewDATCOMaircraft</span>
<span class="comment">%Version 1.00</span>
<span class="comment">%Created by Stepen</span>
<span class="comment">%Created 6 November 2011</span>
<span class="comment">%Last modified 20 November 2011</span>
<span class="comment">%--------------------------------------------------------------------------</span>
<span class="comment">%viewDATCOMaircraft reads a DATCOM input file written in ASCI formats and</span>
<span class="comment">%draws simplified three view drawing of the aircraft defined by the input</span>
<span class="comment">%file.</span>
<span class="comment">%--------------------------------------------------------------------------</span>
<span class="comment">%Syntax:</span>
<span class="comment">%drawDATCOMaircraft(datcominputfile)</span>
<span class="comment">%Input argument:</span>
<span class="comment">%datcominputfile (str) specifies file address and file name for DATCOM</span>
<span class="comment">%input file to be read.</span>
<span class="comment">%--------------------------------------------------------------------------</span>

<span class="comment">%CodeStart-----------------------------------------------------------------</span>
<span class="comment">%Defining input (Comment this section to treat this m-files as function)</span>
    clc
    clear
    datcominputfile=[<span class="string">'D:\Personal Project Workspace\'</span>,<span class="keyword">...</span>
                     <span class="string">'MATLAB - ACD Toolbox\PublishedCode\'</span><span class="keyword">...</span>
                     <span class="string">'drawDATCOMaircraft\TestCase\'</span>,<span class="keyword">...</span>
                     <span class="string">'TestCase05.dat'</span>];
<span class="comment">%Reading line by line datcom input file</span>
    dcmstring=cell(1,1);
    tempdat=fopen(datcominputfile);
    count=1;
    tempstr=<span class="string">''</span>;
    <span class="keyword">while</span> ischar(tempstr)
        tempstr=fgetl(tempdat);
        <span class="comment">%Ignoring blank line and comment line</span>
        <span class="keyword">if</span> ~isempty(tempstr)
        <span class="keyword">if</span> ~strcmp(tempstr(1),<span class="string">'*'</span>)
            dcmstring{count,1}=tempstr;
            count=count+1;
        <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    fclose(tempdat);
    clear(<span class="string">'tempdat'</span>,<span class="string">'tempstr'</span>)
<span class="comment">%Defining custom variable for airfoil thickness and geometry</span>
    WAT=0.05;
    HAT=0.05;
    VAT=0.05;
    VFAT=0.05;
    xafl_f=[0,0.0123116594048622,0.0489434837048465,0.108993475811632,<span class="keyword">...</span>
            0.190983005625053,0.292893218813453];
    xafl_r=[0.292893218813453,0.412214747707527,<span class="keyword">...</span>
            0.546009500260453,0.690983005625053,0.843565534959769,1];
    yafl_f=[0,0.0188036221875515,0.0352243977012065,0.0482776739701557,<span class="keyword">...</span>
            0.0568242985323753,0.0600062953297346]/0.12;
    yafl_r=[0.0600062953297346,0.0575526726791933,<span class="keyword">...</span>
            0.0498151946968353,0.0375106087229983,0.0212787901073766,<span class="keyword">...</span>
            0]/0.12;
<span class="comment">%Extracting and separating each namecard from dcmstring</span>
    <span class="comment">%Defining list of namecard to be extracted</span>
    namecardlist={<span class="string">'SYNTHS'</span>,<span class="string">'BODY'</span>,<span class="string">'WGPLNF'</span>,<span class="string">'HTPLNF'</span>,<span class="string">'VTPLNF'</span>,<span class="string">'VFPLNF'</span>,<span class="keyword">...</span>
                  <span class="string">'TVTPAN'</span>,<span class="string">'WGSCHR'</span>,<span class="string">'HTSCHR'</span>,<span class="string">'VTSCHR'</span>,<span class="string">'VFSCHR'</span>};
    <span class="comment">%Performing extraction</span>
        <span class="keyword">for</span> namecardid=1:numel(namecardlist)
        <span class="comment">%Finding the desired namecard</span>
        namecardstat=zeros(numel(dcmstring),1);
        tempstat=0;
        <span class="keyword">for</span> count=1:numel(dcmstring)
            <span class="keyword">if</span> tempstat==0
                <span class="keyword">if</span> strfind(dcmstring{count},namecardlist{namecardid})
                    namecardstat(count)=1;
                    <span class="keyword">if</span> sum(dcmstring{count}==<span class="string">'$'</span>)==1
                        tempstat=1;
                    <span class="keyword">end</span>
                <span class="keyword">end</span>
            <span class="keyword">else</span>
                namecardstat(count)=1;
                <span class="keyword">if</span> sum(dcmstring{count}==<span class="string">'$'</span>)==1
                    tempstat=0;
                <span class="keyword">end</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        <span class="comment">%Extracting string for the desired namecard</span>
        namecardstring=cell(sum(namecardstat),1);
        count2=1;
        <span class="keyword">for</span> count1=1:numel(dcmstring)
            <span class="keyword">if</span> namecardstat(count1)==1
                namecardstring{count2}=dcmstring{count1};
                count2=count2+1;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        <span class="comment">%Storing string</span>
        <span class="keyword">if</span> namecardid==1
            synthstring=namecardstring;
            <span class="keyword">if</span> isempty(synthstring)
                synthstat=0;
            <span class="keyword">else</span>
                synthstat=1;
            <span class="keyword">end</span>
        <span class="keyword">elseif</span> namecardid==2
            bodystring=namecardstring;
            <span class="keyword">if</span> isempty(bodystring)
                bodystat=0;
            <span class="keyword">else</span>
                bodystat=1;
            <span class="keyword">end</span>
        <span class="keyword">elseif</span> namecardid==3
            wingstring=namecardstring;
            <span class="keyword">if</span> isempty(wingstring)
                wingstat=0;
            <span class="keyword">else</span>
                wingstat=1;
            <span class="keyword">end</span>
        <span class="keyword">elseif</span> namecardid==4
            htpstring=namecardstring;
            <span class="keyword">if</span> isempty(htpstring)
                htpstat=0;
            <span class="keyword">else</span>
                htpstat=1;
            <span class="keyword">end</span>
        <span class="keyword">elseif</span> namecardid==5
            vtpstring=namecardstring;
            <span class="keyword">if</span> isempty(vtpstring)
                vtpstat=0;
            <span class="keyword">else</span>
                vtpstat=1;
            <span class="keyword">end</span>
        <span class="keyword">elseif</span> namecardid==6
            vfpstring=namecardstring;
            <span class="keyword">if</span> isempty(vfpstring)
                vfpstat=0;
            <span class="keyword">else</span>
                vfpstat=1;
            <span class="keyword">end</span>
        <span class="keyword">elseif</span> namecardid==7
            tvtstring=namecardstring;
            <span class="keyword">if</span> isempty(tvtstring)
                tvtstat=0;
            <span class="keyword">else</span>
                tvtstat=1;
            <span class="keyword">end</span>
        <span class="keyword">elseif</span> namecardid==8
            waflstring=namecardstring;
            <span class="keyword">if</span> isempty(waflstring)
                waflstat=0;
            <span class="keyword">else</span>
                waflstat=1;
            <span class="keyword">end</span>
        <span class="keyword">elseif</span> namecardid==9
            haflstring=namecardstring;
            <span class="keyword">if</span> isempty(haflstring)
                haflstat=0;
            <span class="keyword">else</span>
                haflstat=1;
            <span class="keyword">end</span>
        <span class="keyword">elseif</span> namecardid==10
            vaflstring=namecardstring;
            <span class="keyword">if</span> isempty(vaflstring)
                vaflstat=0;
            <span class="keyword">else</span>
                vaflstat=1;
            <span class="keyword">end</span>
        <span class="keyword">elseif</span> namecardid==11
            vfaflstring=namecardstring;
            <span class="keyword">if</span> isempty(vfaflstring)
                vfaflstat=0;
            <span class="keyword">else</span>
                vfaflstat=1;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        <span class="keyword">end</span>
<span class="comment">%Extracting aircraft configuration parameters</span>
    prop={<span class="string">'XCG='</span>,<span class="string">'ZCG='</span>,<span class="string">'XW='</span>,<span class="string">'ZW='</span>,<span class="string">'XH='</span>,<span class="string">'ZH='</span>,<span class="string">'XV='</span>,<span class="string">'ZV='</span>,<span class="string">'XVF='</span>,<span class="string">'ZVF='</span>};
    temparray=zeros(numel(prop),1);
    <span class="keyword">for</span> propcount=1:numel(prop)
        <span class="comment">%Finding SYNTH parameter from synthstring</span>
        <span class="keyword">if</span> synthstat==1
            <span class="keyword">for</span> count=1:numel(synthstring)
                <span class="keyword">if</span> strfind(synthstring{count},prop{propcount})
                    tempstr=synthstring{count}<span class="keyword">...</span>
                                       (strfind(synthstring{count},<span class="keyword">...</span>
                                                prop{propcount})+<span class="keyword">...</span>
                                        numel(prop{propcount}):end);
                    tempcell=textscan(tempstr,<span class="string">'%f'</span>);
                    tempval=tempcell{1};
                    <span class="keyword">break</span>
                <span class="keyword">end</span>
            <span class="keyword">end</span>
            clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>)
        <span class="keyword">end</span>
        <span class="keyword">if</span> exist(<span class="string">'tempval'</span>,<span class="string">'var'</span>)
            temparray(propcount)=tempval;
        <span class="keyword">end</span>
        clear(<span class="string">'tempval'</span>)
    <span class="keyword">end</span>
<span class="comment">%Assigning variables for aircraft configuration parameters</span>
    XCG=temparray(1);ZCG=temparray(2);XW=temparray(3);ZW=temparray(4);
    XH=temparray(5);ZH=temparray(6);XV=temparray(7);ZV=temparray(8);
    XVF=temparray(9);ZVF=temparray(10);
<span class="comment">%Reading fuselage geometry</span>
    <span class="keyword">if</span> bodystat==1
        <span class="comment">%Extracting fuselage station number</span>
        <span class="keyword">for</span> count=1:numel(bodystring)
            <span class="keyword">if</span> strfind(bodystring{count},<span class="string">'NX'</span>)
                tempstr=bodystring{count}<span class="keyword">...</span>
                                  (strfind(bodystring{count},<span class="string">'NX'</span>)+3:end);
                tempcell=textscan(tempstr,<span class="string">'%f'</span>);
                NX=tempcell{1};
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>)
        <span class="comment">%Generating format for textscan</span>
        bodyscanformat=<span class="string">'%f'</span>;
        <span class="keyword">for</span> count=2:NX
            bodyscanformat=[bodyscanformat,<span class="string">',%f'</span>];
        <span class="keyword">end</span>
        <span class="comment">%Extracting station related properties</span>
        prop={<span class="string">'X(1)'</span>,<span class="string">'ZU(1)'</span>,<span class="string">'ZL(1)'</span>,<span class="string">'R(1)'</span>,<span class="string">'P(1)'</span>,<span class="string">'S(1)'</span>};
        <span class="keyword">for</span> propcount=1:numel(prop)
            <span class="keyword">for</span> count=1:numel(bodystring)
                <span class="keyword">if</span> strfind(bodystring{count},prop{propcount})
                    tempstr=bodystring{count}<span class="keyword">...</span>
                                      (strfind(bodystring{count},<span class="keyword">...</span>
                                               prop{propcount})+<span class="keyword">...</span>
                                       numel(prop{propcount})+1:<span class="keyword">...</span>
                                       end);
                    tempcell=textscan(tempstr,bodyscanformat);
                    tempval=[];
                    <span class="keyword">for</span> tempcount=1:numel(tempcell)
                        <span class="keyword">if</span> ~isempty(tempcell{tempcount})
                            tempval=[tempval,tempcell{tempcount}];
                        <span class="keyword">else</span>
                            <span class="keyword">break</span>
                        <span class="keyword">end</span>
                    <span class="keyword">end</span>
                    temparray=tempval;
                    i=1;
                    <span class="keyword">while</span> numel(temparray)&lt;NX
                        tempstr=bodystring{count+i};
                        tempcell=textscan(tempstr,bodyscanformat);
                        tempval=[];
                        <span class="keyword">for</span> tempcount=1:numel(tempcell)
                            <span class="keyword">if</span> ~isempty(tempcell{tempcount})
                                tempval=[tempval,tempcell{tempcount}];
                            <span class="keyword">else</span>
                                <span class="keyword">break</span>
                            <span class="keyword">end</span>
                        <span class="keyword">end</span>
                        temparray=[temparray,tempval];
                        i=i+1;
                    <span class="keyword">end</span>
                    <span class="keyword">break</span>
                <span class="keyword">end</span>
            <span class="keyword">end</span>
            clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>,<span class="string">'tempval'</span>)
            <span class="keyword">if</span> exist(<span class="string">'temparray'</span>,<span class="string">'var'</span>)
                <span class="keyword">if</span> propcount==1
                    X=temparray;
                <span class="keyword">elseif</span> propcount==2
                    ZU=temparray;
                <span class="keyword">elseif</span> propcount==3
                    ZL=temparray;
                <span class="keyword">elseif</span> propcount==4
                    R=temparray;
                <span class="keyword">elseif</span> propcount==5
                    P=temparray;
                <span class="keyword">elseif</span> propcount==6
                    S=temparray;
                <span class="keyword">end</span>
                clear(<span class="string">'temparray'</span>)
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        <span class="comment">%Extracting single value properties</span>
        prop={<span class="string">'BNOSE'</span>,<span class="string">'BTAIL'</span>,<span class="string">'BLN'</span>,<span class="string">'BLA'</span>,<span class="string">'DS'</span>};
        <span class="keyword">for</span> propcount=1:numel(prop)
        <span class="keyword">for</span> count=1:numel(bodystring)
            <span class="keyword">if</span> strfind(bodystring{count},prop{propcount})
                tempstr=bodystring{count}<span class="keyword">...</span>
                                  (strfind(bodystring{count},<span class="keyword">...</span>
                                           prop{propcount})+<span class="keyword">...</span>
                                   numel(prop{propcount})+1:end);
                tempcell=textscan(tempstr,<span class="string">'%f'</span>);
                tempval=tempcell{1};
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>)
        <span class="keyword">if</span> exist(<span class="string">'tempval'</span>,<span class="string">'var'</span>)
            <span class="keyword">if</span> propcount==1
                BNOSE=tempval;
            <span class="keyword">elseif</span> propcount==2
                BTAIL=tempval;
            <span class="keyword">elseif</span> propcount==3
                BLN=tempval;
            <span class="keyword">elseif</span> propcount==4
                BLA=tempval;
            <span class="keyword">elseif</span> propcount==5
                DS=tempval;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempval'</span>)
        <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Reading wing geometry</span>
    <span class="comment">%Extracting wing planform properties</span>
    <span class="keyword">if</span> wingstat==1
        prop={<span class="string">'CHRDTP='</span>,<span class="string">'CHRDBP='</span>,<span class="string">'CHRDR='</span>,<span class="keyword">...</span>
              <span class="string">'SSPNOP='</span>,<span class="string">'SSPNE='</span>,<span class="string">'SSPN='</span>,<span class="string">'SSPNDO='</span>,<span class="keyword">...</span>
              <span class="string">'SAVSI='</span>,<span class="string">'SAVSO='</span>,<span class="string">'TWISTA='</span>,<span class="string">'DHDADI='</span>,<span class="string">'DHDADO='</span>,<span class="keyword">...</span>
              <span class="string">'TYPE='</span>,<span class="string">'CHSTAT='</span>};
        <span class="keyword">for</span> propcount=1:numel(prop)
        <span class="keyword">for</span> count=1:numel(wingstring)
            <span class="keyword">if</span> strfind(wingstring{count},prop{propcount})
                tempstr=wingstring{count}<span class="keyword">...</span>
                                  (strfind(wingstring{count},<span class="keyword">...</span>
                                           prop{propcount})+<span class="keyword">...</span>
                                   numel(prop{propcount}):end);
                tempcell=textscan(tempstr,<span class="string">'%f'</span>);
                tempval=tempcell{1};
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>)
        <span class="keyword">if</span> exist(<span class="string">'tempval'</span>,<span class="string">'var'</span>)
            <span class="keyword">if</span> propcount==1
                WCHRDTP=tempval;
            <span class="keyword">elseif</span> propcount==2
                WCHRDBP=tempval;
            <span class="keyword">elseif</span> propcount==3
                WCHRDR=tempval;
            <span class="keyword">elseif</span> propcount==4
                WSSPNOP=tempval;
            <span class="keyword">elseif</span> propcount==5
                WSSPNE=tempval;
            <span class="keyword">elseif</span> propcount==6
                WSSPN=tempval;
            <span class="keyword">elseif</span> propcount==7
                WSSPNDO=tempval;
            <span class="keyword">elseif</span> propcount==8
                WSAVSI=tempval;
            <span class="keyword">elseif</span> propcount==9
                WSAVSO=tempval;
            <span class="keyword">elseif</span> propcount==10
                WTWISTA=tempval;
            <span class="keyword">elseif</span> propcount==11
                WDHDADI=tempval;
            <span class="keyword">elseif</span> propcount==12
                WDHDADO=tempval;
            <span class="keyword">elseif</span> propcount==13
                WTYPE=tempval;
            <span class="keyword">elseif</span> propcount==14
                WCHSTAT=tempval;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempval'</span>)
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Extracting wing cross-section properties</span>
    <span class="keyword">if</span> waflstat==1
        <span class="comment">%Extracting wing airfoil's point number</span>
        <span class="keyword">for</span> count=1:numel(waflstring)
            <span class="keyword">if</span> strfind(waflstring{count},<span class="string">'NPTS'</span>)
                tempstr=waflstring{count}<span class="keyword">...</span>
                                  (strfind(waflstring{count},<span class="string">'NPTS'</span>)+5:<span class="keyword">...</span>
                                   end);
                tempcell=textscan(tempstr,<span class="string">'%f'</span>);
                WAFLNX=tempcell{1};
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>)
        <span class="comment">%Generating format for textscan</span>
        <span class="keyword">if</span> exist(<span class="string">'WAFLNX'</span>,<span class="string">'var'</span>)
        waflscanformat=<span class="string">'%f'</span>;
        <span class="keyword">for</span> count=2:WAFLNX
            waflscanformat=[waflscanformat,<span class="string">',%f'</span>];
        <span class="keyword">end</span>
        <span class="keyword">end</span>
        <span class="comment">%Extracting wing airfoil geometry</span>
        <span class="keyword">if</span> exist(<span class="string">'WAFLNX'</span>,<span class="string">'var'</span>)
        prop={<span class="string">'XCORD(1)'</span>,<span class="string">'MEAN(1)'</span>,<span class="string">'THICK(1)'</span>,<span class="string">'YUPPER(1)'</span>,<span class="string">'YLOWER(1)'</span>};
        <span class="keyword">for</span> propcount=1:numel(prop)
            <span class="keyword">for</span> count=1:numel(waflstring)
                <span class="keyword">if</span> strfind(waflstring{count},prop{propcount})
                    tempstr=waflstring{count}<span class="keyword">...</span>
                                      (strfind(waflstring{count},<span class="keyword">...</span>
                                               prop{propcount})+<span class="keyword">...</span>
                                       numel(prop{propcount})+1:<span class="keyword">...</span>
                                       end);
                    tempcell=textscan(tempstr,waflscanformat);
                    tempval=[];
                    <span class="keyword">for</span> tempcount=1:numel(tempcell)
                        <span class="keyword">if</span> ~isempty(tempcell{tempcount})
                            tempval=[tempval,tempcell{tempcount}];
                        <span class="keyword">else</span>
                            <span class="keyword">break</span>
                        <span class="keyword">end</span>
                    <span class="keyword">end</span>
                    temparray=tempval;
                    i=1;
                    <span class="keyword">while</span> numel(temparray)&lt;WAFLNX
                        tempstr=waflstring{count+i};
                        tempcell=textscan(tempstr,waflscanformat);
                        tempval=[];
                        <span class="keyword">for</span> tempcount=1:numel(tempcell)
                            <span class="keyword">if</span> ~isempty(tempcell{tempcount})
                                tempval=[tempval,tempcell{tempcount}];
                            <span class="keyword">else</span>
                                <span class="keyword">break</span>
                            <span class="keyword">end</span>
                        <span class="keyword">end</span>
                        temparray=[temparray,tempval];
                        i=i+1;
                    <span class="keyword">end</span>
                    <span class="keyword">break</span>
                <span class="keyword">end</span>
            <span class="keyword">end</span>
            clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>,<span class="string">'tempval'</span>)
            <span class="keyword">if</span> exist(<span class="string">'temparray'</span>,<span class="string">'var'</span>)
                <span class="keyword">if</span> propcount==1
                    WAFLX=temparray;
                <span class="keyword">elseif</span> propcount==2
                    WAFLMEAN=temparray;
                <span class="keyword">elseif</span> propcount==3
                    WAFLTHICK=temparray;
                <span class="keyword">elseif</span> propcount==4
                    WAFLYU=temparray;
                <span class="keyword">elseif</span> propcount==5
                    WAFLYL=temparray;
                <span class="keyword">end</span>
                clear(<span class="string">'temparray'</span>)
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">else</span>
        <span class="comment">%Extracting NACA airfoil from dcmstring</span>
        <span class="keyword">for</span> count=1:numel(dcmstring)
            <span class="keyword">if</span> strfind(dcmstring{count},<span class="string">'NACA-W-'</span>)
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 (strfind(dcmstring{count},<span class="keyword">...</span>
                                          <span class="string">'NACA-W-'</span>)+7);
                WNACATYPE=str2double(tempstr);
                <span class="keyword">if</span> (WNACATYPE==4)||(WNACATYPE==5)||<span class="keyword">...</span>
                   ((WNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                   (~strcmp(dcmstring{count}<span class="keyword">...</span>
                                     ((strfind(dcmstring{count},<span class="keyword">...</span>
                                               <span class="string">'NACA-W-'</span>))+12),<span class="string">'-'</span>)))
                    tempval=WNACATYPE;
                <span class="keyword">elseif</span> (WNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                       (strcmp(dcmstring{count}<span class="keyword">...</span>
                                        ((strfind(dcmstring{count},<span class="keyword">...</span>
                                                  <span class="string">'NACA-W-'</span>))+12),<span class="string">'-'</span>))
                    tempval=WNACATYPE+1;
                <span class="keyword">elseif</span> WNACATYPE==1
                    tempval=5;
                <span class="keyword">end</span>
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 ((strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA-W-'</span>))+9:<span class="keyword">...</span>
                                  (strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA-W-'</span>)+8+tempval));
                WNACA=tempstr;
                <span class="keyword">break</span>
            <span class="keyword">end</span>
            <span class="keyword">if</span> strfind(dcmstring{count},<span class="string">'NACA W '</span>)
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 (strfind(dcmstring{count},<span class="keyword">...</span>
                                          <span class="string">'NACA W '</span>)+7);
                WNACATYPE=str2double(tempstr);
                <span class="keyword">if</span> (WNACATYPE==4)||(WNACATYPE==5)||<span class="keyword">...</span>
                   ((WNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                   (~strcmp(dcmstring{count}<span class="keyword">...</span>
                                     ((strfind(dcmstring{count},<span class="keyword">...</span>
                                               <span class="string">'NACA-W-'</span>))+12),<span class="string">'-'</span>)))
                    tempval=WNACATYPE;
                <span class="keyword">elseif</span> (WNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                       (strcmp(dcmstring{count}<span class="keyword">...</span>
                                        ((strfind(dcmstring{count},<span class="keyword">...</span>
                                                  <span class="string">'NACA-W-'</span>))+12),<span class="string">'-'</span>))
                    tempval=WNACATYPE+1;
                <span class="keyword">elseif</span> WNACATYPE==1
                    tempval=5;
                <span class="keyword">end</span>
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 ((strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA W '</span>))+9:<span class="keyword">...</span>
                                  (strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA W '</span>)+8+tempval));
                WNACA=tempstr;
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>)
        <span class="comment">%Generating NACA airfoil geometry</span>
        <span class="keyword">if</span> exist(<span class="string">'WNACA'</span>,<span class="string">'var'</span>)
            <span class="keyword">try</span>
                [WAFLX,WAFLYU,WAFLYL]=generateNACAairfoil(WNACATYPE,WNACA);
                waflstat=1;
                drawwingafl=1;
            <span class="keyword">catch</span>
                waflstat=0;
                drawwingafl=0;
                disp([<span class="string">'Unexpected wing airfoil parameter!'</span>,<span class="keyword">...</span>
                      <span class="string">' Wing airfoil will not be drawn!'</span>])
            <span class="keyword">end</span>
        <span class="keyword">else</span>
            waflstat=0;
            drawwingafl=0;
            disp([<span class="string">'Unexpected wing airfoil parameter!'</span>,<span class="keyword">...</span>
                  <span class="string">' Wing airfoil will not be drawn!'</span>])
        <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Reading horizontal tail geometry</span>
    <span class="comment">%Extracting horizontal tail planform properties</span>
    <span class="keyword">if</span> htpstat==1
        prop={<span class="string">'CHRDTP='</span>,<span class="string">'CHRDBP='</span>,<span class="string">'CHRDR='</span>,<span class="keyword">...</span>
              <span class="string">'SSPNOP='</span>,<span class="string">'SSPNE='</span>,<span class="string">'SSPN='</span>,<span class="string">'SSPNDO='</span>,<span class="keyword">...</span>
              <span class="string">'SAVSI='</span>,<span class="string">'SAVSO='</span>,<span class="string">'TWISTA='</span>,<span class="string">'DHDADI='</span>,<span class="string">'DHDADO='</span>,<span class="keyword">...</span>
              <span class="string">'TYPE='</span>,<span class="string">'CHSTAT='</span>};
        <span class="keyword">for</span> propcount=1:numel(prop)
        <span class="keyword">for</span> count=1:numel(htpstring)
            <span class="keyword">if</span> strfind(htpstring{count},prop{propcount})
                tempstr=htpstring{count}<span class="keyword">...</span>
                                  (strfind(htpstring{count},<span class="keyword">...</span>
                                           prop{propcount})+<span class="keyword">...</span>
                                   numel(prop{propcount}):end);
                tempcell=textscan(tempstr,<span class="string">'%f'</span>);
                tempval=tempcell{1};
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>)
        <span class="keyword">if</span> exist(<span class="string">'tempval'</span>,<span class="string">'var'</span>)
            <span class="keyword">if</span> propcount==1
                HCHRDTP=tempval;
            <span class="keyword">elseif</span> propcount==2
                HCHRDBP=tempval;
            <span class="keyword">elseif</span> propcount==3
                HCHRDR=tempval;
            <span class="keyword">elseif</span> propcount==4
                HSSPNOP=tempval;
            <span class="keyword">elseif</span> propcount==5
                HSSPNE=tempval;
            <span class="keyword">elseif</span> propcount==6
                HSSPN=tempval;
            <span class="keyword">elseif</span> propcount==7
                HSSPNDO=tempval;
            <span class="keyword">elseif</span> propcount==8
                HSAVSI=tempval;
            <span class="keyword">elseif</span> propcount==9
                HSAVSO=tempval;
            <span class="keyword">elseif</span> propcount==10
                HTWISTA=tempval;
            <span class="keyword">elseif</span> propcount==11
                HDHDADI=tempval;
            <span class="keyword">elseif</span> propcount==12
                HDHDADO=tempval;
            <span class="keyword">elseif</span> propcount==13
                HTYPE=tempval;
            <span class="keyword">elseif</span> propcount==14
                HCHSTAT=tempval;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempval'</span>)
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Extracting horizontal tail cross-section properties</span>
    <span class="keyword">if</span> haflstat==1
        <span class="comment">%Extracting horizontal tail airfoil's point number</span>
        <span class="keyword">for</span> count=1:numel(haflstring)
            <span class="keyword">if</span> strfind(haflstring{count},<span class="string">'NPTS'</span>)
                tempstr=haflstring{count}<span class="keyword">...</span>
                                  (strfind(haflstring{count},<span class="string">'NPTS'</span>)+5:<span class="keyword">...</span>
                                   end);
                tempcell=textscan(tempstr,<span class="string">'%f'</span>);
                HAFLNX=tempcell{1};
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>)
        <span class="comment">%Generating format for textscan</span>
        <span class="keyword">if</span> exist(<span class="string">'HAFLNX'</span>,<span class="string">'var'</span>)
        haflscanformat=<span class="string">'%f'</span>;
        <span class="keyword">for</span> count=2:HAFLNX
            haflscanformat=[haflscanformat,<span class="string">',%f'</span>];
        <span class="keyword">end</span>
        <span class="keyword">end</span>
        <span class="comment">%Extracting horizontal tail airfoil geometry</span>
        <span class="keyword">if</span> exist(<span class="string">'HAFLNX'</span>,<span class="string">'var'</span>)
        prop={<span class="string">'XCORD(1)'</span>,<span class="string">'MEAN(1)'</span>,<span class="string">'THICK(1)'</span>,<span class="string">'YUPPER(1)'</span>,<span class="string">'YLOWER(1)'</span>};
        <span class="keyword">for</span> propcount=1:numel(prop)
            <span class="keyword">for</span> count=1:numel(haflstring)
                <span class="keyword">if</span> strfind(haflstring{count},prop{propcount})
                    tempstr=haflstring{count}<span class="keyword">...</span>
                                      (strfind(haflstring{count},<span class="keyword">...</span>
                                               prop{propcount})+<span class="keyword">...</span>
                                       numel(prop{propcount})+1:<span class="keyword">...</span>
                                       end);
                    tempcell=textscan(tempstr,haflscanformat);
                    tempval=[];
                    <span class="keyword">for</span> tempcount=1:numel(tempcell)
                        <span class="keyword">if</span> ~isempty(tempcell{tempcount})
                            tempval=[tempval,tempcell{tempcount}];
                        <span class="keyword">else</span>
                            <span class="keyword">break</span>
                        <span class="keyword">end</span>
                    <span class="keyword">end</span>
                    temparray=tempval;
                    i=1;
                    <span class="keyword">while</span> numel(temparray)&lt;HAFLNX
                        tempstr=haflstring{count+i};
                        tempcell=textscan(tempstr,haflscanformat);
                        tempval=[];
                        <span class="keyword">for</span> tempcount=1:numel(tempcell)
                            <span class="keyword">if</span> ~isempty(tempcell{tempcount})
                                tempval=[tempval,tempcell{tempcount}];
                            <span class="keyword">else</span>
                                <span class="keyword">break</span>
                            <span class="keyword">end</span>
                        <span class="keyword">end</span>
                        temparray=[temparray,tempval];
                        i=i+1;
                    <span class="keyword">end</span>
                    <span class="keyword">break</span>
                <span class="keyword">end</span>
            <span class="keyword">end</span>
            clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>,<span class="string">'tempval'</span>)
            <span class="keyword">if</span> exist(<span class="string">'temparray'</span>,<span class="string">'var'</span>)
                <span class="keyword">if</span> propcount==1
                    HAFLX=temparray;
                <span class="keyword">elseif</span> propcount==2
                    HAFLMEAN=temparray;
                <span class="keyword">elseif</span> propcount==3
                    HAFLTHICK=temparray;
                <span class="keyword">elseif</span> propcount==4
                    HAFLYU=temparray;
                <span class="keyword">elseif</span> propcount==5
                    HAFLYL=temparray;
                <span class="keyword">end</span>
                clear(<span class="string">'temparray'</span>)
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">else</span>
        <span class="comment">%Extracting NACA airfoil from dcmstring</span>
        <span class="keyword">for</span> count=1:numel(dcmstring)
            <span class="keyword">if</span> strfind(dcmstring{count},<span class="string">'NACA-H-'</span>)
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 (strfind(dcmstring{count},<span class="keyword">...</span>
                                          <span class="string">'NACA-H-'</span>)+7);
                HNACATYPE=str2double(tempstr);
                <span class="keyword">if</span> (HNACATYPE==4)||(HNACATYPE==5)||<span class="keyword">...</span>
                   ((HNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                   (~strcmp(dcmstring{count}<span class="keyword">...</span>
                                     ((strfind(dcmstring{count},<span class="keyword">...</span>
                                               <span class="string">'NACA-H-'</span>))+12),<span class="string">'-'</span>)))
                    tempval=HNACATYPE;
                <span class="keyword">elseif</span> (HNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                       (strcmp(dcmstring{count}<span class="keyword">...</span>
                                        ((strfind(dcmstring{count},<span class="keyword">...</span>
                                                  <span class="string">'NACA-H-'</span>))+12),<span class="string">'-'</span>))
                    tempval=HNACATYPE+1;
                <span class="keyword">elseif</span> HNACATYPE==1
                    tempval=5;
                <span class="keyword">end</span>
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 ((strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA-H-'</span>))+9:<span class="keyword">...</span>
                                  (strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA-H-'</span>)+8+tempval));
                HNACA=tempstr;
                <span class="keyword">break</span>
            <span class="keyword">end</span>
            <span class="keyword">if</span> strfind(dcmstring{count},<span class="string">'NACA H '</span>)
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 (strfind(dcmstring{count},<span class="keyword">...</span>
                                          <span class="string">'NACA H '</span>)+7);
                HNACATYPE=str2double(tempstr);
                <span class="keyword">if</span> (HNACATYPE==4)||(HNACATYPE==5)||<span class="keyword">...</span>
                   ((HNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                   (~strcmp(dcmstring{count}<span class="keyword">...</span>
                                     ((strfind(dcmstring{count},<span class="keyword">...</span>
                                               <span class="string">'NACA-H-'</span>))+12),<span class="string">'-'</span>)))
                    tempval=HNACATYPE;
                <span class="keyword">elseif</span> (HNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                       (strcmp(dcmstring{count}<span class="keyword">...</span>
                                        ((strfind(dcmstring{count},<span class="keyword">...</span>
                                                  <span class="string">'NACA-H-'</span>))+12),<span class="string">'-'</span>))
                    tempval=HNACATYPE+1;
                <span class="keyword">elseif</span> HNACATYPE==1
                    tempval=5;
                <span class="keyword">end</span>
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 ((strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA H '</span>))+9:<span class="keyword">...</span>
                                  (strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA H '</span>)+8+tempval));
                HNACA=tempstr;
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>)
        <span class="comment">%Generating NACA airfoil geometry</span>
        <span class="keyword">if</span> exist(<span class="string">'HNACA'</span>,<span class="string">'var'</span>)
            <span class="keyword">try</span>
                [HAFLX,HAFLYU,HAFLYL]=generateNACAairfoil(HNACATYPE,HNACA);
                haflstat=1;
                drawhtpafl=1;
            <span class="keyword">catch</span>
                haflstat=0;
                drawhtpafl=0;
                disp([<span class="string">'Unexpected horizontal tail airfoil parameter!'</span>,<span class="keyword">...</span>
                      <span class="string">' Horizontal tail airfoil will not be drawn!'</span>])
            <span class="keyword">end</span>
        <span class="keyword">else</span>
            haflstat=0;
            drawhtpafl=0;
            disp([<span class="string">'Unexpected horizontal tail airfoil parameter!'</span>,<span class="keyword">...</span>
                  <span class="string">' Horizontal tail airfoil will not be drawn!'</span>])
        <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Reading vertical tail geometry</span>
    <span class="comment">%Extracting vertical tail planform properties</span>
    <span class="keyword">if</span> vtpstat==1
        prop={<span class="string">'CHRDTP='</span>,<span class="string">'CHRDBP='</span>,<span class="string">'CHRDR='</span>,<span class="keyword">...</span>
              <span class="string">'SSPNOP='</span>,<span class="string">'SSPNE='</span>,<span class="string">'SSPN='</span>,<span class="keyword">...</span>
              <span class="string">'SAVSI='</span>,<span class="string">'SAVSO='</span>,<span class="keyword">...</span>
              <span class="string">'TYPE='</span>,<span class="string">'CHSTAT='</span>};
        <span class="keyword">for</span> propcount=1:numel(prop)
        <span class="keyword">for</span> count=1:numel(vtpstring)
            <span class="keyword">if</span> strfind(vtpstring{count},prop{propcount})
                tempstr=vtpstring{count}<span class="keyword">...</span>
                                  (strfind(vtpstring{count},<span class="keyword">...</span>
                                           prop{propcount})+<span class="keyword">...</span>
                                   numel(prop{propcount}):end);
                tempcell=textscan(tempstr,<span class="string">'%f'</span>);
                tempval=tempcell{1};
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>)
        <span class="keyword">if</span> exist(<span class="string">'tempval'</span>,<span class="string">'var'</span>)
            <span class="keyword">if</span> propcount==1
                VCHRDTP=tempval;
            <span class="keyword">elseif</span> propcount==2
                VCHRDBP=tempval;
            <span class="keyword">elseif</span> propcount==3
                VCHRDR=tempval;
            <span class="keyword">elseif</span> propcount==4
                VSSPNOP=tempval;
            <span class="keyword">elseif</span> propcount==5
                VSSPNE=tempval;
            <span class="keyword">elseif</span> propcount==6
                VSSPN=tempval;
            <span class="keyword">elseif</span> propcount==7
                VSAVSI=tempval;
            <span class="keyword">elseif</span> propcount==8
                VSAVSO=tempval;
            <span class="keyword">elseif</span> propcount==9
                VTYPE=tempval;
            <span class="keyword">elseif</span> propcount==10
                VCHSTAT=tempval;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempval'</span>)
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Extracting vertical tail cross-section properties</span>
    <span class="keyword">if</span> vaflstat==1
        <span class="comment">%Extracting vertical tail airfoil's point number</span>
        <span class="keyword">for</span> count=1:numel(vaflstring)
            <span class="keyword">if</span> strfind(vaflstring{count},<span class="string">'NPTS'</span>)
                tempstr=vaflstring{count}<span class="keyword">...</span>
                                  (strfind(vaflstring{count},<span class="string">'NPTS'</span>)+5:<span class="keyword">...</span>
                                   end);
                tempcell=textscan(tempstr,<span class="string">'%f'</span>);
                VAFLNX=tempcell{1};
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>)
        <span class="comment">%Generating format for textscan</span>
        <span class="keyword">if</span> exist(<span class="string">'VAFLNX'</span>,<span class="string">'var'</span>)
        vaflscanformat=<span class="string">'%f'</span>;
        <span class="keyword">for</span> count=2:VAFLNX
            vaflscanformat=[vaflscanformat,<span class="string">',%f'</span>];
        <span class="keyword">end</span>
        <span class="keyword">end</span>
        <span class="comment">%Extracting horizontal tail airfoil geometry</span>
        <span class="keyword">if</span> exist(<span class="string">'VAFLNX'</span>,<span class="string">'var'</span>)
        prop={<span class="string">'XCORD(1)'</span>,<span class="string">'MEAN(1)'</span>,<span class="string">'THICK(1)'</span>,<span class="string">'YUPPER(1)'</span>,<span class="string">'YLOWER(1)'</span>};
        <span class="keyword">for</span> propcount=1:numel(prop)
            <span class="keyword">for</span> count=1:numel(vaflstring)
                <span class="keyword">if</span> strfind(vaflstring{count},prop{propcount})
                    tempstr=vaflstring{count}<span class="keyword">...</span>
                                      (strfind(vaflstring{count},<span class="keyword">...</span>
                                               prop{propcount})+<span class="keyword">...</span>
                                       numel(prop{propcount})+1:<span class="keyword">...</span>
                                       end);
                    tempcell=textscan(tempstr,vaflscanformat);
                    tempval=[];
                    <span class="keyword">for</span> tempcount=1:numel(tempcell)
                        <span class="keyword">if</span> ~isempty(tempcell{tempcount})
                            tempval=[tempval,tempcell{tempcount}];
                        <span class="keyword">else</span>
                            <span class="keyword">break</span>
                        <span class="keyword">end</span>
                    <span class="keyword">end</span>
                    temparray=tempval;
                    i=1;
                    <span class="keyword">while</span> numel(temparray)&lt;VAFLNX
                        tempstr=vaflstring{count+i};
                        tempcell=textscan(tempstr,vaflscanformat);
                        tempval=[];
                        <span class="keyword">for</span> tempcount=1:numel(tempcell)
                            <span class="keyword">if</span> ~isempty(tempcell{tempcount})
                                tempval=[tempval,tempcell{tempcount}];
                            <span class="keyword">else</span>
                                <span class="keyword">break</span>
                            <span class="keyword">end</span>
                        <span class="keyword">end</span>
                        temparray=[temparray,tempval];
                        i=i+1;
                    <span class="keyword">end</span>
                    <span class="keyword">break</span>
                <span class="keyword">end</span>
            <span class="keyword">end</span>
            clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>,<span class="string">'tempval'</span>)
            <span class="keyword">if</span> exist(<span class="string">'temparray'</span>,<span class="string">'var'</span>)
                <span class="keyword">if</span> propcount==1
                    VAFLX=temparray;
                <span class="keyword">elseif</span> propcount==2
                    VAFLMEAN=temparray;
                <span class="keyword">elseif</span> propcount==3
                    VAFLTHICK=temparray;
                <span class="keyword">elseif</span> propcount==4
                    VAFLYU=temparray;
                <span class="keyword">elseif</span> propcount==5
                    VAFLYL=temparray;
                <span class="keyword">end</span>
                clear(<span class="string">'temparray'</span>)
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">else</span>
        <span class="comment">%Extracting NACA airfoil from dcmstring</span>
        <span class="keyword">for</span> count=1:numel(dcmstring)
            <span class="keyword">if</span> strfind(dcmstring{count},<span class="string">'NACA-V-'</span>)
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 (strfind(dcmstring{count},<span class="keyword">...</span>
                                          <span class="string">'NACA-V-'</span>)+7);
                VNACATYPE=str2double(tempstr);
                <span class="keyword">if</span> (VNACATYPE==4)||(VNACATYPE==5)||<span class="keyword">...</span>
                   ((VNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                   (~strcmp(dcmstring{count}<span class="keyword">...</span>
                                     ((strfind(dcmstring{count},<span class="keyword">...</span>
                                               <span class="string">'NACA-V-'</span>))+12),<span class="string">'-'</span>)))
                    tempval=VNACATYPE;
                <span class="keyword">elseif</span> (VNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                       (strcmp(dcmstring{count}<span class="keyword">...</span>
                                        ((strfind(dcmstring{count},<span class="keyword">...</span>
                                                  <span class="string">'NACA-V-'</span>))+12),<span class="string">'-'</span>))
                    tempval=VNACATYPE+1;
                <span class="keyword">elseif</span> VNACATYPE==1
                    tempval=5;
                <span class="keyword">end</span>
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 ((strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA-V-'</span>))+9:<span class="keyword">...</span>
                                  (strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA-V-'</span>)+8+tempval));
                VNACA=tempstr;
                <span class="keyword">break</span>
            <span class="keyword">end</span>
            <span class="keyword">if</span> strfind(dcmstring{count},<span class="string">'NACA V '</span>)
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 (strfind(dcmstring{count},<span class="keyword">...</span>
                                          <span class="string">'NACA V '</span>)+7);
                VNACATYPE=str2double(tempstr);
                <span class="keyword">if</span> (VNACATYPE==4)||(VNACATYPE==5)||<span class="keyword">...</span>
                   ((VNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                   (~strcmp(dcmstring{count}<span class="keyword">...</span>
                                     ((strfind(dcmstring{count},<span class="keyword">...</span>
                                               <span class="string">'NACA-V-'</span>))+12),<span class="string">'-'</span>)))
                    tempval=VNACATYPE;
                <span class="keyword">elseif</span> (VNACATYPE==6)&amp;&amp;<span class="keyword">...</span>
                       (strcmp(dcmstring{count}<span class="keyword">...</span>
                                        ((strfind(dcmstring{count},<span class="keyword">...</span>
                                                  <span class="string">'NACA-V-'</span>))+12),<span class="string">'-'</span>))
                    tempval=VNACATYPE+1;
                <span class="keyword">elseif</span> VNACATYPE==1
                    tempval=5;
                <span class="keyword">end</span>
                tempstr=dcmstring{count}<span class="keyword">...</span>
                                 ((strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA V '</span>))+9:<span class="keyword">...</span>
                                  (strfind(dcmstring{count},<span class="keyword">...</span>
                                           <span class="string">'NACA V '</span>)+8+tempval));
                VNACA=tempstr;
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>)
        <span class="comment">%Generating NACA airfoil geometry</span>
        <span class="keyword">if</span> exist(<span class="string">'VNACA'</span>,<span class="string">'var'</span>)
            <span class="keyword">try</span>
                [VAFLX,VAFLYU,VAFLYL]=generateNACAairfoil(VNACATYPE,VNACA);
                vaflstat=1;
                drawvtpafl=1;
            <span class="keyword">catch</span>
                vaflstat=0;
                drawvtpafl=0;
                disp([<span class="string">'Unexpected vertical tail airfoil parameter!'</span>,<span class="keyword">...</span>
                      <span class="string">' Vertical tail airfoil will not be drawn!'</span>])
            <span class="keyword">end</span>
        <span class="keyword">else</span>
            vaflstat=0;
            drawvtpafl=0;
            disp([<span class="string">'Unexpected vertical tail airfoil parameter!'</span>,<span class="keyword">...</span>
                  <span class="string">' Vertical tail airfoil will not be drawn!'</span>])
        <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Reading ventral fin geometry</span>
    <span class="comment">%Extracting ventral fin planform properties</span>
    <span class="keyword">if</span> vfpstat==1
        prop={<span class="string">'CHRDTP='</span>,<span class="string">'CHRDBP='</span>,<span class="string">'CHRDR='</span>,<span class="keyword">...</span>
              <span class="string">'SSPNOP='</span>,<span class="string">'SSPNE='</span>,<span class="string">'SSPN='</span>,<span class="keyword">...</span>
              <span class="string">'SAVSI='</span>,<span class="string">'SAVSO='</span>,<span class="keyword">...</span>
              <span class="string">'TYPE='</span>,<span class="string">'CHSTAT='</span>};
        <span class="keyword">for</span> propcount=1:numel(prop)
        <span class="keyword">for</span> count=1:numel(vfpstring)
            <span class="keyword">if</span> strfind(vfpstring{count},prop{propcount})
                tempstr=vfpstring{count}<span class="keyword">...</span>
                                  (strfind(vfpstring{count},<span class="keyword">...</span>
                                           prop{propcount})+<span class="keyword">...</span>
                                   numel(prop{propcount}):end);
                tempcell=textscan(tempstr,<span class="string">'%f'</span>);
                tempval=tempcell{1};
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>)
        <span class="keyword">if</span> exist(<span class="string">'tempval'</span>,<span class="string">'var'</span>)
            <span class="keyword">if</span> propcount==1
                VFCHRDTP=tempval;
            <span class="keyword">elseif</span> propcount==2
                VFCHRDBP=tempval;
            <span class="keyword">elseif</span> propcount==3
                VFCHRDR=tempval;
            <span class="keyword">elseif</span> propcount==4
                VFSSPNOP=tempval;
            <span class="keyword">elseif</span> propcount==5
                VFSSPNE=tempval;
            <span class="keyword">elseif</span> propcount==6
                VFSSPN=tempval;
            <span class="keyword">elseif</span> propcount==7
                VFSAVSI=tempval;
            <span class="keyword">elseif</span> propcount==8
                VFSAVSO=tempval;
            <span class="keyword">elseif</span> propcount==9
                VFTYPE=tempval;
            <span class="keyword">elseif</span> propcount==10
                VFCHSTAT=tempval;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempval'</span>)
        <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Reading twin vertical tail geometry</span>
    <span class="comment">%Extracting twin vertical tail planform properties</span>
    <span class="keyword">if</span> tvtstat==1
        prop={<span class="string">'BH='</span>,<span class="string">'BVP='</span>,<span class="string">'BV='</span>,<span class="keyword">...</span>
              <span class="string">'SV='</span>,<span class="string">'VPHITE='</span>,<span class="string">'VLP='</span>,<span class="string">'ZP='</span>};
        <span class="keyword">for</span> propcount=1:numel(prop)
        <span class="keyword">for</span> count=1:numel(tvtstring)
            <span class="keyword">if</span> strfind(tvtstring{count},prop{propcount})
                tempstr=tvtstring{count}<span class="keyword">...</span>
                                  (strfind(tvtstring{count},<span class="keyword">...</span>
                                           prop{propcount})+<span class="keyword">...</span>
                                   numel(prop{propcount}):end);
                tempcell=textscan(tempstr,<span class="string">'%f'</span>);
                tempval=tempcell{1};
                <span class="keyword">break</span>
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempstr'</span>,<span class="string">'tempcell'</span>)
        <span class="keyword">if</span> exist(<span class="string">'tempval'</span>,<span class="string">'var'</span>)
            <span class="keyword">if</span> propcount==1
                TVTBH=tempval;
            <span class="keyword">elseif</span> propcount==2
                TVTBVP=tempval;
            <span class="keyword">elseif</span> propcount==3
                TVTBV=tempval;
            <span class="keyword">elseif</span> propcount==4
                TVTSV=tempval;
            <span class="keyword">elseif</span> propcount==5
                TVTVPHITE=tempval;
            <span class="keyword">elseif</span> propcount==6
                TVTVLP=tempval;
            <span class="keyword">elseif</span> propcount==7
                TVTZP=tempval;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
        clear(<span class="string">'tempval'</span>)
        <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Performing check and calculation for fuselage drawing</span>
    <span class="keyword">if</span> bodystat==1
    <span class="comment">%Checking fuselage parameter from BODY namecard</span>
    <span class="keyword">if</span> (~exist(<span class="string">'X'</span>,<span class="string">'var'</span>))||((~exist(<span class="string">'R'</span>,<span class="string">'var'</span>))&amp;&amp;(~exist(<span class="string">'P'</span>,<span class="string">'var'</span>))&amp;&amp;<span class="keyword">...</span>
                             (~exist(<span class="string">'S'</span>,<span class="string">'var'</span>)))
        drawfuselage=0;
        disp([<span class="string">'Insufficient fuselage parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Fuselage will not be drawn!'</span>])
    <span class="keyword">else</span>
        drawfuselage=1;
    <span class="keyword">end</span>
    <span class="comment">%Calculating fuselage line based on fuselage parameter read</span>
    <span class="keyword">if</span> drawfuselage==1
        <span class="comment">%Estimating fuselage radius</span>
        <span class="keyword">if</span> ~exist(<span class="string">'R'</span>,<span class="string">'var'</span>)
            <span class="keyword">if</span> exist(<span class="string">'P'</span>,<span class="string">'var'</span>)&amp;&amp;~exist(<span class="string">'S'</span>,<span class="string">'var'</span>)
                R=P/(2*pi);
            <span class="keyword">elseif</span> exist(<span class="string">'S'</span>,<span class="string">'var'</span>)
                R=sqrt(S/pi);
            <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Performing check and calculation for wing drawing</span>
    <span class="keyword">if</span> wingstat==1
    <span class="comment">%Checking the existence of wing type parameter</span>
    <span class="keyword">if</span> ~exist(<span class="string">'WTYPE'</span>,<span class="string">'var'</span>)
        WTYPE=1;
        disp([<span class="string">'Wing type parameter is not found!'</span>,<span class="keyword">...</span>
              <span class="string">' Parameter value was set to 1.'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Checking wing parameter from WGPLNF namecard</span>
    <span class="keyword">if</span> WTYPE==1
        <span class="keyword">if</span> (~exist(<span class="string">'WSSPN'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'WCHRDTP'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'WCHRDR'</span>,<span class="string">'var'</span>))
            drawwing=0;
            disp([<span class="string">'Insufficient wing parameter!'</span>,<span class="keyword">...</span>
                  <span class="string">' Wing will not be drawn!'</span>])
        <span class="keyword">else</span>
            drawwing=1;
            <span class="keyword">if</span> ~exist(<span class="string">'WSAVSI'</span>,<span class="string">'var'</span>)
                WSAVSI=0;
            <span class="keyword">end</span>
            <span class="keyword">if</span> ~exist(<span class="string">'WDHDADI'</span>,<span class="string">'var'</span>)
                WDHDADI=0;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">elseif</span> (WTYPE==2)||(WTYPE==3)
        <span class="keyword">if</span> (~exist(<span class="string">'WSSPN'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'WSSPNOP'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'WCHRDTP'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'WCHRDBP'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'WCHRDR'</span>,<span class="string">'var'</span>))
            drawwing=0;
            disp([<span class="string">'Insufficient wing parameter!'</span>,<span class="keyword">...</span>
                  <span class="string">' Wing will not be drawn!'</span>])
        <span class="keyword">else</span>
            drawwing=1;
            <span class="keyword">if</span> ~exist(<span class="string">'WSAVSI'</span>,<span class="string">'var'</span>)
                WSAVSI=0;
            <span class="keyword">end</span>
            <span class="keyword">if</span> ~exist(<span class="string">'WDHDADI'</span>,<span class="string">'var'</span>)
                WDHDADI=0;
            <span class="keyword">end</span>
            <span class="keyword">if</span> ~exist(<span class="string">'WSAVSO'</span>,<span class="string">'var'</span>)
                WSAVSO=0;
            <span class="keyword">end</span>
            <span class="keyword">if</span> ~exist(<span class="string">'WDHDADO'</span>,<span class="string">'var'</span>)
                WDHDADO=0;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">else</span>
        drawwing=0;
        disp([<span class="string">'Unexpected wing type parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Wing will not be drawn!'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Checking wing parameter from SYNTHS namecard</span>
    <span class="keyword">if</span> (~exist(<span class="string">'XW'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'ZW'</span>,<span class="string">'var'</span>))
        drawwing=0;
        disp([<span class="string">'Undefined wing synths parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Wing will not be drawn!'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Determining WCHSTAT value</span>
    <span class="keyword">if</span> ~exist(<span class="string">'WCHSTAT'</span>,<span class="string">'var'</span>)
        WCHSTAT=0;
    <span class="keyword">end</span>
    <span class="comment">%Calculating wing line based on wing parameter read</span>
    <span class="keyword">if</span> drawwing==1
        <span class="comment">%Calculating LE and TE line for straight tapered planform</span>
        <span class="keyword">if</span> WTYPE==1
            xwing=[XW,<span class="keyword">...</span>
                   (XW+(WCHSTAT*WCHRDR)+(WSSPN*tand(WSAVSI)-<span class="keyword">...</span>
                                        (WCHSTAT*WCHRDTP))),<span class="keyword">...</span>
                   (XW+(WCHSTAT*WCHRDR)+(WSSPN*tand(WSAVSI)+<span class="keyword">...</span>
                                        ((1-WCHSTAT)*WCHRDTP))),<span class="keyword">...</span>
                   XW+WCHRDR];
            ywing=[0,WSSPN,WSSPN,0];
            zwing=[ZW,<span class="keyword">...</span>
                   (ZW+(WSSPN*tand(WDHDADI))),<span class="keyword">...</span>
                   (ZW+(WSSPN*tand(WDHDADI))),<span class="keyword">...</span>
                   ZW];
            zwingf=[(ZW+(WAT*WCHRDR)),<span class="keyword">...</span>
                    (ZW+(WSSPN*tand(WDHDADI))+(WAT*WCHRDTP)),<span class="keyword">...</span>
                    (ZW+(WSSPN*tand(WDHDADI))-(WAT*WCHRDTP)),<span class="keyword">...</span>
                    (ZW-(WAT*WCHRDR))];
        <span class="keyword">end</span>
        <span class="comment">%Calculating LE and TE line for double cranked planform</span>
        <span class="keyword">if</span> (WTYPE==2)||(WTYPE==3)
            xwing=[XW,<span class="keyword">...</span>
                   (XW+(WCHSTAT*WCHRDR)+((WSSPN-WSSPNOP)*tand(WSAVSI))-<span class="keyword">...</span>
                                        (WCHSTAT*WCHRDBP)),<span class="keyword">...</span>
                   (XW+(WCHSTAT*WCHRDR)+((WSSPN-WSSPNOP)*tand(WSAVSI))+<span class="keyword">...</span>
                                        (WSSPNOP*tand(WSAVSO))-<span class="keyword">...</span>
                                        (WCHSTAT*WCHRDTP)),<span class="keyword">...</span>
                   (XW+(WCHSTAT*WCHRDR)+((WSSPN-WSSPNOP)*tand(WSAVSI))+<span class="keyword">...</span>
                                        (WSSPNOP*tand(WSAVSO))+<span class="keyword">...</span>
                                        ((1-WCHSTAT)*WCHRDTP)),<span class="keyword">...</span>
                   (XW+(WCHSTAT*WCHRDR)+((WSSPN-WSSPNOP)*tand(WSAVSI))+<span class="keyword">...</span>
                                        ((1-WCHSTAT)*WCHRDBP)),<span class="keyword">...</span>
                   XW+WCHRDR];
            ywing=[0,(WSSPN-WSSPNOP),WSSPN,WSSPN,(WSSPN-WSSPNOP),0];
            zwing=[ZW,<span class="keyword">...</span>
                   (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))),<span class="keyword">...</span>
                   (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))+<span class="keyword">...</span>
                       (WSSPNOP*tand(WDHDADO))),<span class="keyword">...</span>
                   (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))+<span class="keyword">...</span>
                       (WSSPNOP*tand(WDHDADO))),<span class="keyword">...</span>
                   (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))),<span class="keyword">...</span>
                   ZW];
            zwingf=[(ZW+(WAT*WCHRDR)),<span class="keyword">...</span>
                    (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))+(WAT*WCHRDBP)),<span class="keyword">...</span>
                    (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))+<span class="keyword">...</span>
                        (WSSPNOP*tand(WDHDADO))+(WAT*WCHRDTP)),<span class="keyword">...</span>
                    (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))+<span class="keyword">...</span>
                        (WSSPNOP*tand(WDHDADO))-(WAT*WCHRDTP)),<span class="keyword">...</span>
                    (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))-(WAT*WCHRDBP)),<span class="keyword">...</span>
                    (ZW-(WAT*WCHRDR))];
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Performing check and calculation for wing airfoil drawing</span>
    <span class="keyword">if</span> waflstat==1
    <span class="comment">%Checking wing airfoil parameter</span>
    <span class="keyword">if</span> (exist(<span class="string">'WAFLX'</span>,<span class="string">'var'</span>))&amp;&amp;<span class="keyword">...</span>
       (((exist(<span class="string">'WAFLMEAN'</span>,<span class="string">'var'</span>))||(exist(<span class="string">'WAFLTHICK'</span>,<span class="string">'var'</span>)))||<span class="keyword">...</span>
        (exist(<span class="string">'WAFLYU'</span>,<span class="string">'var'</span>))&amp;&amp;(exist(<span class="string">'WAFLYL'</span>,<span class="string">'var'</span>)))
        drawwingafl=1;
    <span class="keyword">else</span>
        drawwingafl=0;
        disp([<span class="string">'Insufficient wing airfoil parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Wing airfoil will not be drawn!'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Calculating wing airfoil line</span>
    <span class="keyword">if</span> drawwingafl==1
        <span class="keyword">if</span> (~exist(<span class="string">'WAFLYU'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'WAFLYL'</span>,<span class="string">'var'</span>))
            <span class="keyword">if</span> (~exist(<span class="string">'WAFLTHICK'</span>,<span class="string">'var'</span>))
                WAFLTHICK=zeros(size(WAFLX));
            <span class="keyword">end</span>
            <span class="keyword">if</span> (~exist(<span class="string">'WAFLMEAN'</span>,<span class="string">'var'</span>))
                WAFLMEAN=zeros(size(WAFLX));
            <span class="keyword">end</span>
            WAFLYU=WAFLMEAN+(0.5*WAFLTHICK);
            WAFLYL=WAFLMEAN-(0.5*WAFLTHICK);
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Performing check and calculation for horizontal tail drawing</span>
    <span class="keyword">if</span> htpstat==1
    <span class="comment">%Checking the existence of horizontal tail type parameter</span>
    <span class="keyword">if</span> ~exist(<span class="string">'HTYPE'</span>,<span class="string">'var'</span>)
        HTYPE=1;
        disp([<span class="string">'Horizontal tail type parameter is not found!'</span>,<span class="keyword">...</span>
              <span class="string">' Parameter value was set to 1.'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Checking horizontal parameter from HTPLNF namecard</span>
    <span class="keyword">if</span> HTYPE==1
        <span class="keyword">if</span> (~exist(<span class="string">'HSSPN'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'HCHRDTP'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'HCHRDR'</span>,<span class="string">'var'</span>))
            drawhtp=0;
            disp([<span class="string">'Insufficient horizontal tail parameter!'</span>,<span class="keyword">...</span>
                  <span class="string">' Horizontal tail will not be drawn!'</span>])
        <span class="keyword">else</span>
            drawhtp=1;
            <span class="keyword">if</span> ~exist(<span class="string">'HSAVSI'</span>,<span class="string">'var'</span>)
                HSAVSI=0;
            <span class="keyword">end</span>
            <span class="keyword">if</span> ~exist(<span class="string">'HDHDADI'</span>,<span class="string">'var'</span>)
                HDHDADI=0;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">elseif</span> (HTYPE==2)||(HTYPE==3)
        <span class="keyword">if</span> (~exist(<span class="string">'HSSPN'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'HSSPNOP'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'HCHRDTP'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'HCHRDBP'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'HCHRDR'</span>,<span class="string">'var'</span>))
            drawhtp=0;
            disp([<span class="string">'Insufficient horizontal tail parameter!'</span>,<span class="keyword">...</span>
                  <span class="string">' Horizontal tail will not be drawn!'</span>])
        <span class="keyword">else</span>
            drawhtp=1;
            <span class="keyword">if</span> ~exist(<span class="string">'HSAVSI'</span>,<span class="string">'var'</span>)
                HSAVSI=0;
            <span class="keyword">end</span>
            <span class="keyword">if</span> ~exist(<span class="string">'HDHDADI'</span>,<span class="string">'var'</span>)
                HDHDADI=0;
            <span class="keyword">end</span>
            <span class="keyword">if</span> ~exist(<span class="string">'HSAVSO'</span>,<span class="string">'var'</span>)
                HSAVSO=0;
            <span class="keyword">end</span>
            <span class="keyword">if</span> ~exist(<span class="string">'HDHDADO'</span>,<span class="string">'var'</span>)
                HDHDADO=0;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">else</span>
        drawhtp=0;
        disp([<span class="string">'Unexpected horizontal tail type parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Horizontal tail will not be drawn!'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Checking horizontal tail parameter from SYNTHS namecard</span>
    <span class="keyword">if</span> (~exist(<span class="string">'XH'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'ZH'</span>,<span class="string">'var'</span>))
        drawhtp=0;
        disp([<span class="string">'Undefined horizontal tail synths parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Horizontal tail will not be drawn!'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Determining HCHSTAT value</span>
    <span class="keyword">if</span> ~exist(<span class="string">'HCHSTAT'</span>,<span class="string">'var'</span>)
        HCHSTAT=0;
    <span class="keyword">end</span>
    <span class="comment">%Calculating h-tail line based on horizontal tail parameter read</span>
    <span class="keyword">if</span> drawhtp==1
        <span class="comment">%Calculating LE and TE line for straight tapered planform</span>
        <span class="keyword">if</span> HTYPE==1
            xhtp=[XH,<span class="keyword">...</span>
                  (XH+(HCHSTAT*HCHRDR))+(HSSPN*tand(HSAVSI))-<span class="keyword">...</span>
                                        (HCHSTAT*HCHRDTP),<span class="keyword">...</span>
                  (XH+(HCHSTAT*HCHRDR))+(HSSPN*tand(HSAVSI))+<span class="keyword">...</span>
                                        ((1-HCHSTAT)*HCHRDTP),<span class="keyword">...</span>
                   XH+HCHRDR];
            yhtp=[0,HSSPN,HSSPN,0];
            zhtp=[ZH,<span class="keyword">...</span>
                  (ZH+(HSSPN*tand(HDHDADI))),<span class="keyword">...</span>
                  (ZH+(HSSPN*tand(HDHDADI))),<span class="keyword">...</span>
                  ZH];
            zhtpf=[(ZH+(HAT*HCHRDR)),<span class="keyword">...</span>
                   (ZH+(HSSPN*tand(HDHDADI))+(HAT*HCHRDTP)),<span class="keyword">...</span>
                   (ZH+(HSSPN*tand(HDHDADI))-(HAT*HCHRDTP)),<span class="keyword">...</span>
                   (ZH-(HAT*HCHRDR))];
        <span class="keyword">end</span>
        <span class="comment">%Calculating LE and TE line for double cranked planform</span>
        <span class="keyword">if</span> (HTYPE==2)||(HTYPE==3)
            xhtp=[XH,<span class="keyword">...</span>
                  (XH+(HCHSTAT*HCHRDR))+((HSSPN-HSSPNOP)*tand(HSAVSI))-<span class="keyword">...</span>
                                        (HCHSTAT*HCHRDBP),<span class="keyword">...</span>
                  (XH+(HCHSTAT*HCHRDR))+((HSSPN-HSSPNOP)*tand(HSAVSI))+<span class="keyword">...</span>
                                        (HSSPNOP*tand(HSAVSO))-<span class="keyword">...</span>
                                        (HCHSTAT*HCHRDTP),<span class="keyword">...</span>
                  (XH+(HCHSTAT*HCHRDR))+((HSSPN-HSSPNOP)*tand(HSAVSI))+<span class="keyword">...</span>
                                        (HSSPNOP*tand(HSAVSO))+<span class="keyword">...</span>
                                        ((1-HCHSTAT)*HCHRDTP),<span class="keyword">...</span>
                  (XH+(HCHSTAT*HCHRDR))+((HSSPN-HSSPNOP)*tand(HSAVSI))+<span class="keyword">...</span>
                                        ((1-HCHSTAT)*HCHRDBP),<span class="keyword">...</span>
                  XH+HCHRDR];
            yhtp=[0,(HSSPN-HSSPNOP),HSSPNOP,HSSPNOP,(HSSPN-HSSPNOP),0];
            zhtp=[ZH,<span class="keyword">...</span>
                  (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))),<span class="keyword">...</span>
                  (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))+<span class="keyword">...</span>
                      (HSSPNOP*tand(HDHDADO))),<span class="keyword">...</span>
                  (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))+<span class="keyword">...</span>
                      (HSSPNOP*tand(HDHDADO))),<span class="keyword">...</span>
                  (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))),<span class="keyword">...</span>
                  ZH];
            zhtpf=[(ZH+(HAT*HCHRDR)),<span class="keyword">...</span>
                   (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))+(HAT*HCHRDBP)),<span class="keyword">...</span>
                   (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))+<span class="keyword">...</span>
                       (HSSPNOP*tand(HDHDADO))+(HAT*HCHRDTP)),<span class="keyword">...</span>
                   (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))+<span class="keyword">...</span>
                       (HSSPNOP*tand(HDHDADO))-(HAT*HCHRDTP)),<span class="keyword">...</span>
                   (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))-(HAT*HCHRDBP)),<span class="keyword">...</span>
                   (ZH-(HAT*HCHRDR))];
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Performing check and calculation for horizontal tail airfoil drawing</span>
    <span class="keyword">if</span> haflstat==1
    <span class="comment">%Checking horizontal tail airfoil parameter</span>
    <span class="keyword">if</span> (exist(<span class="string">'HAFLX'</span>,<span class="string">'var'</span>))&amp;&amp;<span class="keyword">...</span>
       (((exist(<span class="string">'HAFLMEAN'</span>,<span class="string">'var'</span>))||(exist(<span class="string">'HAFLTHICK'</span>,<span class="string">'var'</span>)))||<span class="keyword">...</span>
        (exist(<span class="string">'HAFLYU'</span>,<span class="string">'var'</span>))&amp;&amp;(exist(<span class="string">'HAFLYL'</span>,<span class="string">'var'</span>)))
        drawhtpafl=1;
    <span class="keyword">else</span>
        drawhtpafl=0;
        disp([<span class="string">'Insufficient horizontal tail airfoil parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Horizontal tail will not be drawn!'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Calculating horizontal tail airfoil line</span>
    <span class="keyword">if</span> drawhtpafl==1
        <span class="keyword">if</span> (~exist(<span class="string">'HAFLYU'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'HAFLYL'</span>,<span class="string">'var'</span>))
            <span class="keyword">if</span> (~exist(<span class="string">'HAFLTHICK'</span>,<span class="string">'var'</span>))
                HAFLTHICK=zeros(size(HAFLX));
            <span class="keyword">end</span>
            <span class="keyword">if</span> (~exist(<span class="string">'HAFLMEAN'</span>,<span class="string">'var'</span>))
                HAFLMEAN=zeros(size(HAFLX));
            <span class="keyword">end</span>
            HAFLYU=HAFLMEAN+(0.5*HAFLTHICK);
            HAFLYL=HAFLMEAN-(0.5*HAFLTHICK);
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Performing check and calculation for vertical tail drawing</span>
    <span class="keyword">if</span> vtpstat==1
    <span class="comment">%Checking the existence of vertical tail type parameter</span>
    <span class="keyword">if</span> ~exist(<span class="string">'VTYPE'</span>,<span class="string">'var'</span>)
        VTYPE=1;
        disp([<span class="string">'Vertical tail type parameter is not found!'</span>,<span class="keyword">...</span>
              <span class="string">' Parameter value was set to 1.'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Checking vertical parameter from VTPLNF namecard</span>
    <span class="keyword">if</span> VTYPE==1
        <span class="keyword">if</span> (~exist(<span class="string">'VSSPN'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'VCHRDTP'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'VCHRDR'</span>,<span class="string">'var'</span>))
            drawvtp=0;
            disp([<span class="string">'Insufficient vertical tail parameter!'</span>,<span class="keyword">...</span>
                  <span class="string">' Vertical tail will not be drawn!'</span>])
        <span class="keyword">else</span>
            drawvtp=1;
            <span class="keyword">if</span> ~exist(<span class="string">'VSAVSI'</span>,<span class="string">'var'</span>)
                VSAVSI=0;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">elseif</span> (VTYPE==2)||(VTYPE==3)
        <span class="keyword">if</span> (~exist(<span class="string">'VSSPN'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'VSSPNOP'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'VCHRDTP'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'VCHRDBP'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'VCHRDR'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'VSAVSI'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'VSAVSO'</span>,<span class="string">'var'</span>))
            drawvtp=0;
            disp([<span class="string">'Insufficient vertical tail parameter!'</span>,<span class="keyword">...</span>
                  <span class="string">' Vertical tail will not be drawn!'</span>])
        <span class="keyword">else</span>
            drawvtp=1;
            <span class="keyword">if</span> ~exist(<span class="string">'VSAVSI'</span>,<span class="string">'var'</span>)
                VSAVSI=0;
            <span class="keyword">end</span>
            <span class="keyword">if</span> ~exist(<span class="string">'VSAVSO'</span>,<span class="string">'var'</span>)
                VSAVSO=0;
            <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">else</span>
        drawvtp=0;
        disp([<span class="string">'Unexpected vertical tail type parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Vertical tail will not be drawn!'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Checking vertical tail parameter from SYNTHS namecard</span>
    <span class="keyword">if</span> (~exist(<span class="string">'XV'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'ZV'</span>,<span class="string">'var'</span>))
        drawvtp=0;
        disp([<span class="string">'Undefined vertical tail synths parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Vertical tail will not be drawn!'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Determining VCHSTAT value</span>
    <span class="keyword">if</span> ~exist(<span class="string">'VCHSTAT'</span>,<span class="string">'var'</span>)
        VCHSTAT=0;
    <span class="keyword">end</span>
    <span class="comment">%Calculating vertical tail line based on vertical parameter read</span>
    <span class="keyword">if</span> drawvtp==1
        <span class="comment">%Calculating LE and TE line for straight tapered planform</span>
        <span class="keyword">if</span> VTYPE==1
            xvtp=[XV,<span class="keyword">...</span>
                  (XV+(VCHSTAT*VCHRDR)+(VSSPN*tand(VSAVSI))-<span class="keyword">...</span>
                                       (VCHSTAT*VCHRDTP)),<span class="keyword">...</span>
                  (XV+(VCHSTAT*VCHRDR)+(VSSPN*tand(VSAVSI))+<span class="keyword">...</span>
                                       ((1-VCHSTAT)*VCHRDTP)),<span class="keyword">...</span>
                  XV+VCHRDR];
            yvtp=[VAT*VCHRDR,VAT*VCHRDTP,-VAT*VCHRDTP,-VAT*VCHRDR];
            zvtp=ZV+[0,VSSPN,VSSPN,0];
        <span class="keyword">end</span>
        <span class="comment">%Calculating LE and TE line for double cranked planform</span>
        <span class="keyword">if</span> (VTYPE==2)||(VTYPE==3)
            xvtp=[XV,<span class="keyword">...</span>
                  (XV+(VCHSTAT*VCHRDR)+((VSSPN-VSSPNOP)*tand(VSAVSI))-<span class="keyword">...</span>
                                       (VCHSTAT*VCHRDBP)),<span class="keyword">...</span>
                  (XV+(VCHSTAT*VCHRDR)+((VSSPN-VSSPNOP)*tand(VSAVSI))+<span class="keyword">...</span>
                                       (VSSPNOP*tand(VSAVSO))-<span class="keyword">...</span>
                                       (VCHSTAT*VCHRDTP)),<span class="keyword">...</span>
                  (XV+(VCHSTAT*VCHRDR)+((VSSPN-VSSPNOP)*tand(VSAVSI))+<span class="keyword">...</span>
                                       (VSSPNOP*tand(VSAVSO))+<span class="keyword">...</span>
                                       ((1-VCHSTAT)*VCHRDTP)),<span class="keyword">...</span>
                  (XV+(VCHSTAT*VCHRDR)+((VSSPN-VSSPNOP)*tand(VSAVSI))+<span class="keyword">...</span>
                                       (VSSPNOP*tand(VSAVSO))+<span class="keyword">...</span>
                                       ((1-VCHSTAT)*VCHRDBP)),<span class="keyword">...</span>
                  XV+VCHRDR];
            yvtp=[VAT*VCHRDR,VAT*VCHRDBP,VAT*VCHRDTP,<span class="keyword">...</span>
                  -VAT*VCHRDTP,-VAT*VCHRDBP,-VAT*VCHRDR];
            zvtp=ZV+[0,(VSSPN-VSSPNOP),VSSPNOP,VSSPNOP,(VSSPN-VSSPNOP),0];
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Performing check and calculation for vertical tail airfoil drawing</span>
    <span class="keyword">if</span> vaflstat==1
    <span class="comment">%Checking vertical tail airfoil parameter</span>
    <span class="keyword">if</span> (exist(<span class="string">'VAFLX'</span>,<span class="string">'var'</span>))&amp;&amp;<span class="keyword">...</span>
       (((exist(<span class="string">'VAFLMEAN'</span>,<span class="string">'var'</span>))||(exist(<span class="string">'VAFLTHICK'</span>,<span class="string">'var'</span>)))||<span class="keyword">...</span>
        (exist(<span class="string">'VAFLYU'</span>,<span class="string">'var'</span>))&amp;&amp;(exist(<span class="string">'VAFLYL'</span>,<span class="string">'var'</span>)))
        drawvtpafl=1;
    <span class="keyword">else</span>
        drawvtpafl=0;
        disp([<span class="string">'Insufficient vertical tail airfoil parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Vertical tail will not be drawn!'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Calculating vertical tail airfoil line</span>
    <span class="keyword">if</span> drawvtpafl==1
        <span class="keyword">if</span> (~exist(<span class="string">'VAFLYU'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'VAFLYL'</span>,<span class="string">'var'</span>))
            <span class="keyword">if</span> (~exist(<span class="string">'VAFLTHICK'</span>,<span class="string">'var'</span>))
                VAFLTHICK=zeros(size(VAFLX));
            <span class="keyword">end</span>
            <span class="keyword">if</span> (~exist(<span class="string">'VAFLMEAN'</span>,<span class="string">'var'</span>))
                VAFLMEAN=zeros(size(VAFLX));
            <span class="keyword">end</span>
            VAFLYU=VAFLMEAN+(0.5*VAFLTHICK);
            VAFLYL=VAFLMEAN-(0.5*VAFLTHICK);
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Performing check and calculation for ventral fin drawing</span>
    <span class="keyword">if</span> vfpstat==1
    <span class="comment">%Checking the existence of ventral fin type parameter</span>
    <span class="keyword">if</span> ~exist(<span class="string">'VFTYPE'</span>,<span class="string">'var'</span>)
        VFTYPE=1;
        disp([<span class="string">'Ventral fin type parameter is not found!'</span>,<span class="keyword">...</span>
              <span class="string">' Parameter value was set to 1.'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Checking ventral fin parameter from VFPLNF namecard</span>
    <span class="keyword">if</span> VFTYPE==1
        <span class="keyword">if</span> (~exist(<span class="string">'VFSSPN'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'VFCHRDTP'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'VFCHRDR'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'VFSAVSI'</span>,<span class="string">'var'</span>))
            drawvfp=0;
            disp([<span class="string">'Insufficient ventral fin parameter!'</span>,<span class="keyword">...</span>
                  <span class="string">' Ventral fin will not be drawn!'</span>])
        <span class="keyword">else</span>
            drawvfp=1;
        <span class="keyword">end</span>
    <span class="keyword">elseif</span> (VFTYPE==2)||(VFTYPE==3)
        <span class="keyword">if</span> (~exist(<span class="string">'VFSSPN'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'VFSSPNOP'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'VFCHRDTP'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'VFCHRDBP'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'VFCHRDR'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
           (~exist(<span class="string">'VFSAVSI'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'VFSAVSO'</span>,<span class="string">'var'</span>))
            drawvfp=0;
            disp([<span class="string">'Insufficient ventral fin parameter!'</span>,<span class="keyword">...</span>
                  <span class="string">' Ventral fin will not be drawn!'</span>])
        <span class="keyword">else</span>
            drawvfp=1;
        <span class="keyword">end</span>
    <span class="keyword">else</span>
        drawvfp=0;
        disp([<span class="string">'Unexpected ventral fin type parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Ventral fin will not be drawn!'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Checking ventral fin parameter from SYNTHS namecard</span>
    <span class="keyword">if</span> (~exist(<span class="string">'XVF'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'ZVF'</span>,<span class="string">'var'</span>))
        drawvtp=0;
        disp([<span class="string">'Undefined ventral fin synths parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Ventral fin will not be drawn!'</span>])
    <span class="keyword">end</span>
    <span class="comment">%Determining VFCHSTAT value</span>
    <span class="keyword">if</span> ~exist(<span class="string">'VFCHSTAT'</span>,<span class="string">'var'</span>)
        VFCHSTAT=0;
    <span class="keyword">end</span>
    <span class="comment">%Calculating ventral fin line based on vertical parameter read</span>
    <span class="keyword">if</span> drawvfp==1
        <span class="comment">%Calculating LE and TE line for straight tapered planform</span>
        <span class="keyword">if</span> VFTYPE==1
            xvfp=[XVF,<span class="keyword">...</span>
                  (XVF+(VFCHSTAT*VFCHRDR)+(VFSSPN*tand(VFSAVSI))-<span class="keyword">...</span>
                                          (VFCHSTAT*VFCHRDTP)),<span class="keyword">...</span>
                  (XVF+(VFCHSTAT*VFCHRDR)+(VFSSPN*tand(VFSAVSI))+<span class="keyword">...</span>
                                          ((1-VFCHSTAT)*VFCHRDTP)),<span class="keyword">...</span>
                   XVF+VFCHRDR];
            yvfp=[VFAT*VFCHRDR,VFAT*VFCHRDTP,-VFAT*VFCHRDTP,-VFAT*VFCHRDR];
            zvfp=ZVF+[0,VFSSPN,VFSSPN,0];
        <span class="keyword">end</span>
        <span class="comment">%Calculating LE and TE line for double cranked planform</span>
        <span class="keyword">if</span> (VFTYPE==2)||(VFTYPE==3)
            xvfp=[XVF,<span class="keyword">...</span>
                  (XVF+(VFCHSTAT*VFCHRDR)+<span class="keyword">...</span>
                       ((VFSSPN-VFSSPNOP)*tand(VFSAVSI))-<span class="keyword">...</span>
                       (VFCHSTAT*VFCHRDBP)),<span class="keyword">...</span>
                  (XVF+(VFCHSTAT*VFCHRDR)+<span class="keyword">...</span>
                       ((VFSSPN-VFSSPNOP)*tand(VFSAVSI))+<span class="keyword">...</span>
                       (VFSSPNOP*tand(VFSAVSO))-<span class="keyword">...</span>
                       (VFCHSTAT*VFCHRDTP)),<span class="keyword">...</span>
                  (XVF+(VFCHSTAT*VFCHRDR)+<span class="keyword">...</span>
                       ((VFSSPN-VFSSPNOP)*tand(VFSAVSI))+<span class="keyword">...</span>
                       (VFSSPNOP*tand(VFSAVSO))+<span class="keyword">...</span>
                       ((1-VFCHSTAT)*VFCHRDTP)),<span class="keyword">...</span>
                  (XVF+(VFCHSTAT*VFCHRDR)+<span class="keyword">...</span>
                       ((VFSSPN-VFSSPNOP)*tand(VFSAVSI))+<span class="keyword">...</span>
                       (VFSSPNOP*tand(VFSAVSO))+<span class="keyword">...</span>
                       ((1-VFCHSTAT)*VFCHRDBP)),<span class="keyword">...</span>
                  XVF+VFCHRDR];
            yvfp=[VFAT*VFCHRDR,VFAT*VFCHRDBP,VFAT*VFCHRDTP,<span class="keyword">...</span>
                  -VFAT*VFCHRDTP,-VFAT*VFCHRDBP,-VFAT*VFCHRDR];
            zvfp=ZVF+[0,(VFSSPN-VFSSPNOP),VFSSPNOP,<span class="keyword">...</span>
                      VFSSPNOP,(VFSSPN-VFSSPNOP),0];
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
<span class="comment">%Performing check and calculation for twin vertical tail drawing</span>
    <span class="keyword">if</span> tvtstat==1
    <span class="comment">%Checking twin vertical plane parameter from TVTPAN namecard</span>
    <span class="keyword">if</span> (~exist(<span class="string">'TVTBH'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
       ((~exist(<span class="string">'TVTBV'</span>,<span class="string">'var'</span>))&amp;&amp;(~exist(<span class="string">'TVTBVP'</span>,<span class="string">'var'</span>)))||<span class="keyword">...</span>
       (~exist(<span class="string">'TVTVLP'</span>,<span class="string">'var'</span>))||(~exist(<span class="string">'TVTZP'</span>,<span class="string">'var'</span>))||<span class="keyword">...</span>
       (~exist(<span class="string">'TVTSV'</span>,<span class="string">'var'</span>))
        drawtvt=0;
        disp([<span class="string">'Insufficient twin vertical tail parameter!'</span>,<span class="keyword">...</span>
              <span class="string">' Twin vertical tail will not be drawn!'</span>])
    <span class="keyword">else</span>
        drawtvt=1;
        <span class="keyword">if</span> ~exist(<span class="string">'TVTBV'</span>,<span class="string">'var'</span>)
            TVTBV=0;
        <span class="keyword">end</span>
        <span class="keyword">if</span> ~exist(<span class="string">'TVTBVP'</span>,<span class="string">'var'</span>)
            TVTBVP=0;
        <span class="keyword">end</span>
        <span class="keyword">if</span> ~exist(<span class="string">'TVTPHITE'</span>,<span class="string">'var'</span>)
            TVTPHITE=0;
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Calculating twin vertical tail line based on vertical parameter read</span>
    <span class="comment">%to be added</span>
<span class="comment">%Generating figure for three view drawing</span>
    tvdfigure=figure(<span class="string">'Name'</span>,<span class="string">'Three View Drawing'</span>,<span class="keyword">...</span>
                     <span class="string">'NumberTitle'</span>,<span class="string">'Off'</span>,<span class="keyword">...</span>
                     <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
                     <span class="string">'Position'</span>,[0.1,0.075,0.8,0.8]);
    topviewaxis=axes(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
                     <span class="string">'Box'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
                     <span class="string">'XAxisLocation'</span>,<span class="string">'top'</span>,<span class="keyword">...</span>
                     <span class="string">'YAxisLocation'</span>,<span class="string">'right'</span>,<span class="keyword">...</span>
                     <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
                     <span class="string">'Position'</span>,[0.55,0.55,0.4,0.4]);
    uicontrol(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
              <span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="keyword">...</span>
              <span class="string">'String'</span>,<span class="string">'Top View Drawing'</span>,<span class="keyword">...</span>
              <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
              <span class="string">'BackgroundColor'</span>,[0.8,0.8,0.8],<span class="keyword">...</span>
              <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
              <span class="string">'Position'</span>,[0.551,0.55,0.1,0.025])
    sideviewaxis=axes(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
                      <span class="string">'Box'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
                      <span class="string">'XAxisLocation'</span>,<span class="string">'bottom'</span>,<span class="keyword">...</span>
                      <span class="string">'YAxisLocation'</span>,<span class="string">'right'</span>,<span class="keyword">...</span>
                      <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
                      <span class="string">'Position'</span>,[0.55,0.05,0.4,0.4]);
    uicontrol(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
              <span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="keyword">...</span>
              <span class="string">'String'</span>,<span class="string">'Side View Drawing'</span>,<span class="keyword">...</span>
              <span class="string">'HorizontalAlignment'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
              <span class="string">'BackgroundColor'</span>,[0.8,0.8,0.8],<span class="keyword">...</span>
              <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
              <span class="string">'Position'</span>,[0.551,0.449-0.025,0.1,0.025])
    frontviewaxis=axes(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
                       <span class="string">'Box'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
                       <span class="string">'XAxisLocation'</span>,<span class="string">'bottom'</span>,<span class="keyword">...</span>
                       <span class="string">'YAxisLocation'</span>,<span class="string">'left'</span>,<span class="keyword">...</span>
                       <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
                       <span class="string">'Position'</span>,[0.05,0.05,0.4,0.4]);
    uicontrol(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
              <span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="keyword">...</span>
              <span class="string">'String'</span>,<span class="string">'Front View Drawing'</span>,<span class="keyword">...</span>
              <span class="string">'HorizontalAlignment'</span>,<span class="string">'right'</span>,<span class="keyword">...</span>
              <span class="string">'BackgroundColor'</span>,[0.8,0.8,0.8],<span class="keyword">...</span>
              <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
              <span class="string">'Position'</span>,[0.449-0.1,0.449-0.025,0.1,0.025])
    wingaflaxis=axes(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
                     <span class="string">'Box'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
                     <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
                     <span class="string">'Position'</span>,[0.1,0.85,0.3,0.1]);
    uicontrol(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
              <span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="keyword">...</span>
              <span class="string">'String'</span>,<span class="string">'Wing Airfoill'</span>,<span class="keyword">...</span>
              <span class="string">'HorizontalAlignment'</span>,<span class="string">'right'</span>,<span class="keyword">...</span>
              <span class="string">'BackgroundColor'</span>,[0.8,0.8,0.8],<span class="keyword">...</span>
              <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
              <span class="string">'Position'</span>,[0.399-0.075,0.85,0.075,0.025])
    htpaflaxis=axes(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
                    <span class="string">'Box'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
                    <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
                    <span class="string">'Position'</span>,[0.1,0.7,0.3,0.1]);
    uicontrol(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
              <span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="keyword">...</span>
              <span class="string">'String'</span>,<span class="string">'HTP Airfoill'</span>,<span class="keyword">...</span>
              <span class="string">'HorizontalAlignment'</span>,<span class="string">'right'</span>,<span class="keyword">...</span>
              <span class="string">'BackgroundColor'</span>,[0.8,0.8,0.8],<span class="keyword">...</span>
              <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
              <span class="string">'Position'</span>,[0.399-0.075,0.7,0.075,0.025])
    vtpaflaxis=axes(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
                    <span class="string">'Box'</span>,<span class="string">'on'</span>,<span class="keyword">...</span>
                    <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
                    <span class="string">'Position'</span>,[0.1,0.55,0.3,0.1]);
    uicontrol(<span class="string">'Parent'</span>,tvdfigure,<span class="keyword">...</span>
              <span class="string">'Style'</span>,<span class="string">'text'</span>,<span class="keyword">...</span>
              <span class="string">'String'</span>,<span class="string">'VTP Airfoill'</span>,<span class="keyword">...</span>
              <span class="string">'HorizontalAlignment'</span>,<span class="string">'right'</span>,<span class="keyword">...</span>
              <span class="string">'BackgroundColor'</span>,[0.8,0.8,0.8],<span class="keyword">...</span>
              <span class="string">'Units'</span>,<span class="string">'normalized'</span>,<span class="keyword">...</span>
              <span class="string">'Position'</span>,[0.399-0.075,0.55,0.075,0.025])
<span class="comment">%Drawing aircraft's topview</span>
    <span class="comment">%Holding axis</span>
    hold(topviewaxis,<span class="string">'on'</span>)
    <span class="comment">%Determining fuselage most upper limit for wing and h-tail placement</span>
    <span class="keyword">if</span> (exist(<span class="string">'ZU'</span>,<span class="string">'var'</span>))&amp;&amp;(exist(<span class="string">'R'</span>,<span class="string">'var'</span>))
        testval=max(ZU);
    <span class="keyword">elseif</span> (~exist(<span class="string">'ZU'</span>,<span class="string">'var'</span>))&amp;&amp;(exist(<span class="string">'R'</span>,<span class="string">'var'</span>))
        testval=max(R);
    <span class="keyword">else</span>
        testval=-Inf;
    <span class="keyword">end</span>
    <span class="comment">%Drawing low-mounted wing</span>
    <span class="keyword">if</span> wingstat==1
    <span class="keyword">if</span> drawwing==1
    <span class="keyword">if</span> ZW&lt;testval
        wtv_left=fill([xwing,xwing(end:-1:1)],-[ywing,ywing(end:-1:1)],<span class="keyword">...</span>
                      <span class="string">'w'</span>,<span class="string">'Parent'</span>,topviewaxis);
        wtv_right=fill([xwing,xwing(end:-1:1)],[ywing,ywing(end:-1:1)],<span class="keyword">...</span>
                       <span class="string">'w'</span>,<span class="string">'Parent'</span>,topviewaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Drawing low-mounted horizontal tail</span>
    <span class="keyword">if</span> htpstat==1
    <span class="keyword">if</span> drawhtp==1
    <span class="keyword">if</span> ZH&lt;testval
        htv_left=fill([xhtp,xhtp(end:-1:1)],-[yhtp,yhtp(end:-1:1)],<span class="string">'w'</span>,<span class="keyword">...</span>
                      <span class="string">'Parent'</span>,topviewaxis);
        htv_right=fill([xhtp,xhtp(end:-1:1)],[yhtp,yhtp(end:-1:1)],<span class="string">'w'</span>,<span class="keyword">...</span>
                       <span class="string">'Parent'</span>,topviewaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Drawing fuselage</span>
    <span class="keyword">if</span> bodystat==1
    <span class="keyword">if</span> drawfuselage==1
        ftv=fill([X(1),X,X(end:-1:1),X(1)],[0,-R,R(end:-1:1),0],<span class="string">'w'</span>,<span class="keyword">...</span>
                 <span class="string">'Parent'</span>,topviewaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Drawing high-mounted wing</span>
    <span class="keyword">if</span> wingstat==1
    <span class="keyword">if</span> drawwing==1
    <span class="keyword">if</span> ZW&gt;=testval
        wtv_left=fill([xwing,xwing(end:-1:1)],-[ywing,ywing(end:-1:1)],<span class="keyword">...</span>
                      <span class="string">'w'</span>,<span class="string">'Parent'</span>,topviewaxis);
        wtv_right=fill([xwing,xwing(end:-1:1)],[ywing,ywing(end:-1:1)],<span class="keyword">...</span>
                       <span class="string">'w'</span>,<span class="string">'Parent'</span>,topviewaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Drawing high-mounted horizontal tail</span>
    <span class="keyword">if</span> htpstat==1
    <span class="keyword">if</span> drawhtp==1
    <span class="keyword">if</span> ZH&gt;=testval
        htv_left=fill([xhtp,xhtp(end:-1:1)],-[yhtp,yhtp(end:-1:1)],<span class="string">'w'</span>,<span class="keyword">...</span>
                      <span class="string">'Parent'</span>,topviewaxis);
        htv_right=fill([xhtp,xhtp(end:-1:1)],[yhtp,yhtp(end:-1:1)],<span class="string">'w'</span>,<span class="keyword">...</span>
                       <span class="string">'Parent'</span>,topviewaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Drawing vertical tail</span>
    <span class="keyword">if</span> vtpstat==1
    <span class="keyword">if</span> drawvtp==1
        <span class="keyword">if</span> VTYPE==1
            XVTIP=xvtp(2);
        <span class="keyword">elseif</span> (VTYPE==2)||(VTYPE==3)
            XVTIP=xvtp(3);
        <span class="keyword">end</span>
        <span class="keyword">if</span> XV&lt;=XVTIP
        vtv_rear=fill([XV+([xafl_r,xafl_r(end-1:-1:1)]*VCHRDR),<span class="keyword">...</span>
                       XVTIP+([xafl_r,xafl_r(end-1:-1:1)]*VCHRDTP)],<span class="keyword">...</span>
                      [([yafl_r,-yafl_r(end-1:-1:1)]*VCHRDR*VAT),<span class="keyword">...</span>
                       ([-yafl_r,yafl_r(end-1:-1:1)]*VCHRDTP*VAT)],<span class="keyword">...</span>
                      <span class="string">'w'</span>,<span class="string">'Parent'</span>,topviewaxis);
        <span class="keyword">end</span>
        vtv_front=fill([XV+([xafl_f(end:-1:2),xafl_f]*VCHRDR),<span class="keyword">...</span>
                        XVTIP+([xafl_f(end:-1:2),xafl_f]*VCHRDTP)],<span class="keyword">...</span>
                       [([-yafl_f(end:-1:2),yafl_f]*VCHRDR*VAT),<span class="keyword">...</span>
                        ([yafl_f(end:-1:2),-yafl_f]*VCHRDTP*VAT)],<span class="keyword">...</span>
                       <span class="string">'w'</span>,<span class="string">'Parent'</span>,topviewaxis);
        <span class="keyword">if</span> XV&gt;=XVTIP
        vtv_rear=fill([XV+([xafl_r,xafl_r(end-1:-1:1)]*VCHRDR),<span class="keyword">...</span>
                       XVTIP+([xafl_r,xafl_r(end-1:-1:1)]*VCHRDTP)],<span class="keyword">...</span>
                      [([yafl_r,-yafl_r(end-1:-1:1)]*VCHRDR*VAT),<span class="keyword">...</span>
                       ([-yafl_r,yafl_r(end-1:-1:1)]*VCHRDTP*VAT)],<span class="keyword">...</span>
                      <span class="string">'w'</span>,<span class="string">'Parent'</span>,topviewaxis);
        <span class="keyword">end</span>
        vtv_top=fill(XVTIP+([xafl_f,xafl_r,<span class="keyword">...</span>
                             xafl_r(end-1:-1:1),xafl_f(end-1:-1:1)]*<span class="keyword">...</span>
                            VCHRDTP),<span class="keyword">...</span>
                     ([yafl_f,yafl_r,<span class="keyword">...</span>
                       -yafl_r(end-1:-1:1),-yafl_f(end-1:-1:1)]*<span class="keyword">...</span>
                      VCHRDTP*VAT),<span class="keyword">...</span>
                     <span class="string">'w'</span>,<span class="string">'Parent'</span>,topviewaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Equalizing axis scale</span>
    axis(topviewaxis,<span class="string">'equal'</span>)
    <span class="comment">%Unholding axis</span>
    hold(topviewaxis,<span class="string">'off'</span>)
<span class="comment">%Drawing aircraft's sideview</span>
    <span class="comment">%Holding axis</span>
    hold(sideviewaxis,<span class="string">'on'</span>)
    <span class="comment">%Drawing vertical tail and ventral fin</span>
    <span class="keyword">if</span> vfpstat==1
    <span class="keyword">if</span> drawvfp==1
        vftv=fill([xvfp,xvfp(1)],[zvfp,zvfp(1)],<span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">if</span> vtpstat==1
    <span class="keyword">if</span> drawvtp==1
        vtv=fill([xvtp,xvtp(1)],[zvtp,zvtp(1)],<span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Drawing fuselage</span>
    <span class="keyword">if</span> bodystat==1
    <span class="keyword">if</span> drawfuselage==1
        <span class="keyword">if</span> exist(<span class="string">'ZU'</span>,<span class="string">'var'</span>)&amp;&amp;exist(<span class="string">'ZL'</span>,<span class="string">'var'</span>)
            fsv=fill([X,X(end:-1:1),X(1)],<span class="keyword">...</span>
                     [ZU,ZL(end:-1:1),ZU(1)],<span class="keyword">...</span>
                     <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">else</span>
            fsv=fill([X(1),X,X(end:-1:1),X(1)],<span class="keyword">...</span>
                     [0,-R,R(end:-1:1),0],<span class="keyword">...</span>
                     <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Drawing wing</span>
    <span class="keyword">if</span> wingstat==1
    <span class="keyword">if</span> drawwing==1
        <span class="keyword">if</span> WTYPE==1
            WCHRDBPtemp=WCHRDTP;
        <span class="keyword">elseif</span> (WTYPE==2)||(WTYPE==3)
            WCHRDBPtemp=WCHRDBP;
        <span class="keyword">end</span>
        <span class="comment">%Drawing inboard wing</span>
        <span class="keyword">if</span> (WDHDADI&gt;=0)
            wsv1_t=fill([xwing(1)+([xafl_f,xafl_r]*WCHRDR),<span class="keyword">...</span>
                         xwing(2)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                                    xafl_f(end:-1:1)]*WCHRDBPtemp)],<span class="keyword">...</span>
                        [zwing(1)+([yafl_f,yafl_r]*WCHRDR*WAT),<span class="keyword">...</span>
                         zwing(2)+([yafl_r(end:-1:1),<span class="keyword">...</span>
                                    yafl_f(end:-1:1)]*<span class="keyword">...</span>
                                   WCHRDBPtemp*WAT)],<span class="keyword">...</span>
                        <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">end</span>
        wsv1_b=fill([xwing(1)+([xafl_f,xafl_r]*WCHRDR),<span class="keyword">...</span>
                     xwing(2)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                                xafl_f(end:-1:1)]*WCHRDBPtemp)],<span class="keyword">...</span>
                    [zwing(1)-([yafl_f,yafl_r]*WCHRDR*WAT),<span class="keyword">...</span>
                     zwing(2)-([yafl_r(end:-1:1),<span class="keyword">...</span>
                                yafl_f(end:-1:1)]*<span class="keyword">...</span>
                               WCHRDBPtemp*WAT)],<span class="keyword">...</span>
                    <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">if</span> (WDHDADI&lt;=0)
            wsv1_t=fill([xwing(1)+([xafl_f,xafl_r]*WCHRDR),<span class="keyword">...</span>
                         xwing(2)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                                    xafl_f(end:-1:1)]*WCHRDBPtemp)],<span class="keyword">...</span>
                        [zwing(1)+([yafl_f,yafl_r]*WCHRDR*WAT),<span class="keyword">...</span>
                         zwing(2)+([yafl_r(end:-1:1),<span class="keyword">...</span>
                                    yafl_f(end:-1:1)]*<span class="keyword">...</span>
                                   WCHRDBPtemp*WAT)],<span class="keyword">...</span>
                        <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">end</span>
        <span class="comment">%Drawing inboard wing if any</span>
        <span class="keyword">if</span> (WTYPE==2)||(WTYPE==3)
        <span class="keyword">if</span> (WDHDADI&gt;=0)
            wsv2_t=fill([xwing(2)+([xafl_f,xafl_r]*WCHRDBPtemp),<span class="keyword">...</span>
                         xwing(3)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                                    xafl_f(end:-1:1)]*WCHRDTP)],<span class="keyword">...</span>
                        [zwing(2)+([yafl_f,yafl_r]*WCHRDBPtemp*WAT),<span class="keyword">...</span>
                         zwing(3)+([yafl_r(end:-1:1),<span class="keyword">...</span>
                                    yafl_f(end:-1:1)]*<span class="keyword">...</span>
                                   WCHRDTP*WAT)],<span class="keyword">...</span>
                        <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">end</span>
        wsv2_b=fill([xwing(2)+([xafl_f,xafl_r]*WCHRDBPtemp),<span class="keyword">...</span>
                     xwing(3)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                                xafl_f(end:-1:1)]*WCHRDTP)],<span class="keyword">...</span>
                    [zwing(2)-([yafl_f,yafl_r]*WCHRDBPtemp*WAT),<span class="keyword">...</span>
                     zwing(3)-([yafl_r(end:-1:1),<span class="keyword">...</span>
                                yafl_f(end:-1:1)]*<span class="keyword">...</span>
                               WCHRDTP*WAT)],<span class="keyword">...</span>
                    <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">if</span> (WDHDADI&lt;=0)
            wsv2_t=fill([xwing(2)+([xafl_f,xafl_r]*WCHRDBPtemp),<span class="keyword">...</span>
                         xwing(3)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                                    xafl_f(end:-1:1)]*WCHRDTP)],<span class="keyword">...</span>
                        [zwing(2)+([yafl_f,yafl_r]*WCHRDBPtemp*WAT),<span class="keyword">...</span>
                         zwing(3)+([yafl_r(end:-1:1),<span class="keyword">...</span>
                                    yafl_f(end:-1:1)]*<span class="keyword">...</span>
                                   WCHRDTP*WAT)],<span class="keyword">...</span>
                        <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Drawing horizontal tail</span>
    <span class="keyword">if</span> htpstat==1
    <span class="keyword">if</span> drawhtp==1
        <span class="keyword">if</span> HTYPE==1
            HCHRDBPtemp=HCHRDTP;
        <span class="keyword">elseif</span> (HTYPE==2)||(HTYPE==3)
            HCHRDBPtemp=HCHRDBP;
        <span class="keyword">end</span>
        <span class="comment">%Drawing inboard wing</span>
        <span class="keyword">if</span> (HDHDADI&gt;=0)
            hsv1_t=fill([xhtp(1)+([xafl_f,xafl_r]*HCHRDR),<span class="keyword">...</span>
                         xhtp(2)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                                   xafl_f(end:-1:1)]*HCHRDBPtemp)],<span class="keyword">...</span>
                        [zhtp(1)+([yafl_f,yafl_r]*HCHRDR*HAT),<span class="keyword">...</span>
                         zhtp(2)+([yafl_r(end:-1:1),<span class="keyword">...</span>
                                   yafl_f(end:-1:1)]*<span class="keyword">...</span>
                                  HCHRDBPtemp*HAT)],<span class="keyword">...</span>
                        <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">end</span>
        hsv1_b=fill([xhtp(1)+([xafl_f,xafl_r]*HCHRDR),<span class="keyword">...</span>
                     xhtp(2)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                               xafl_f(end:-1:1)]*HCHRDBPtemp)],<span class="keyword">...</span>
                    [zhtp(1)-([yafl_f,yafl_r]*HCHRDR*HAT),<span class="keyword">...</span>
                     zhtp(2)-([yafl_r(end:-1:1),<span class="keyword">...</span>
                               yafl_f(end:-1:1)]*<span class="keyword">...</span>
                              HCHRDBPtemp*HAT)],<span class="keyword">...</span>
                    <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">if</span> (HDHDADI&lt;=0)
            hsv1_t=fill([xhtp(1)+([xafl_f,xafl_r]*HCHRDR),<span class="keyword">...</span>
                         xhtp(2)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                                   xafl_f(end:-1:1)]*HCHRDBPtemp)],<span class="keyword">...</span>
                        [zhtp(1)+([yafl_f,yafl_r]*HCHRDR*HAT),<span class="keyword">...</span>
                         zhtp(2)+([yafl_r(end:-1:1),<span class="keyword">...</span>
                                   yafl_f(end:-1:1)]*<span class="keyword">...</span>
                                  HCHRDBPtemp*HAT)],<span class="keyword">...</span>
                        <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">end</span>
        <span class="comment">%Drawing inboard wing if any</span>
        <span class="keyword">if</span> (HTYPE==2)||(HTYPE==3)
        <span class="keyword">if</span> (HDHDADI&gt;=0)
            hsv2_t=fill([xhtp(2)+([xafl_f,xafl_r]*HCHRDBPtemp),<span class="keyword">...</span>
                         xhtp(3)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                                   xafl_f(end:-1:1)]*HCHRDTP)],<span class="keyword">...</span>
                        [zhtp(2)+([yafl_f,yafl_r]*HCHRDBPtemp*WAT),<span class="keyword">...</span>
                         zhtp(3)+([yafl_r(end:-1:1),<span class="keyword">...</span>
                                   yafl_f(end:-1:1)]*<span class="keyword">...</span>
                                  HCHRDTP*WAT)],<span class="keyword">...</span>
                        <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">end</span>
        hsv2_b=fill([xhtp(2)+([xafl_f,xafl_r]*HCHRDBPtemp),<span class="keyword">...</span>
                     xhtp(3)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                               xafl_f(end:-1:1)]*HCHRDTP)],<span class="keyword">...</span>
                    [zhtp(2)-([yafl_f,yafl_r]*HCHRDBPtemp*WAT),<span class="keyword">...</span>
                     zhtp(3)-([yafl_r(end:-1:1),<span class="keyword">...</span>
                               yafl_f(end:-1:1)]*<span class="keyword">...</span>
                              HCHRDTP*WAT)],<span class="keyword">...</span>
                    <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">if</span> (HDHDADI&lt;=0)
            hsv2_t=fill([xhtp(2)+([xafl_f,xafl_r]*HCHRDBPtemp),<span class="keyword">...</span>
                         xhtp(3)+([xafl_r(end:-1:1),<span class="keyword">...</span>
                                   xafl_f(end:-1:1)]*HCHRDTP)],<span class="keyword">...</span>
                        [zhtp(2)+([yafl_f,yafl_r]*HCHRDBPtemp*WAT),<span class="keyword">...</span>
                         zhtp(3)+([yafl_r(end:-1:1),<span class="keyword">...</span>
                                   yafl_f(end:-1:1)]*<span class="keyword">...</span>
                                  HCHRDTP*WAT)],<span class="keyword">...</span>
                        <span class="string">'w'</span>,<span class="string">'Parent'</span>,sideviewaxis);
        <span class="keyword">end</span>
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Equalizing axis scale</span>
    axis(sideviewaxis,<span class="string">'equal'</span>)
    <span class="comment">%Unholding axis</span>
    hold(sideviewaxis,<span class="string">'off'</span>)
<span class="comment">%Drawing aircraft's frontview</span>
    <span class="comment">%Holding axis</span>
    hold(frontviewaxis,<span class="string">'on'</span>)
    <span class="comment">%Drawing ventral fin and vertical tail</span>
    <span class="keyword">if</span> vtpstat==1
    <span class="keyword">if</span> drawvtp==1
        vfv=fill([0,yvtp,0],[ZV,zvtp,ZV],<span class="string">'w'</span>,<span class="keyword">...</span>
                 <span class="string">'Parent'</span>,frontviewaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Drawing horizontal tail</span>
    <span class="keyword">if</span> htpstat==1
    <span class="keyword">if</span> drawhtp==1
        hfv=fill([yhtp,-yhtp(end:-1:1)],[zhtpf,zhtpf(end:-1:1)],<span class="string">'w'</span>,<span class="keyword">...</span>
                 <span class="string">'Parent'</span>,frontviewaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Drawing wing</span>
    <span class="keyword">if</span> wingstat==1
    <span class="keyword">if</span> drawwing==1
        wfv=fill([ywing,-ywing(end:-1:1)],[zwingf,zwingf(end:-1:1)],<span class="string">'w'</span>,<span class="keyword">...</span>
                 <span class="string">'Parent'</span>,frontviewaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Drawing fuselage</span>
    <span class="keyword">if</span> bodystat==1
    <span class="keyword">if</span> drawfuselage==1
        <span class="keyword">if</span> exist(<span class="string">'ZU'</span>,<span class="string">'var'</span>)&amp;&amp;exist(<span class="string">'ZL'</span>,<span class="string">'var'</span>)
            ffv=rectangle(<span class="string">'Position'</span>,[-max(R),min(ZL)<span class="keyword">...</span>
                                      2*max(R),max(ZU)-min(ZL)],<span class="keyword">...</span>
                          <span class="string">'Curvature'</span>,[1,1],<span class="keyword">...</span>
                          <span class="string">'FaceColor'</span>,<span class="string">'w'</span>,<span class="keyword">...</span>
                          <span class="string">'Parent'</span>,frontviewaxis);
        <span class="keyword">else</span>
            ffv=rectangle(<span class="string">'Position'</span>,[-max(R),-max(R),<span class="keyword">...</span>
                                      2*max(R),2*max(R)],<span class="keyword">...</span>
                          <span class="string">'Curvature'</span>,[1,1],<span class="keyword">...</span>
                          <span class="string">'FaceColor'</span>,<span class="string">'w'</span>,<span class="keyword">...</span>
                          <span class="string">'Parent'</span>,frontviewaxis);
        <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Equalizing axis scale</span>
    axis(frontviewaxis,<span class="string">'equal'</span>)
    <span class="comment">%Unholding axis</span>
    hold(frontviewaxis,<span class="string">'off'</span>)
<span class="comment">%Drawing wing's airfoil</span>
    <span class="comment">%Holding axis</span>
    hold(wingaflaxis,<span class="string">'on'</span>)
    <span class="comment">%Drawing airfoil</span>
    <span class="keyword">if</span> waflstat==1
    <span class="keyword">if</span> drawwingafl==1
        waflu=plot(WAFLX,WAFLYU,<span class="string">'Parent'</span>,wingaflaxis);
        wafll=plot(WAFLX,WAFLYL,<span class="string">'Parent'</span>,wingaflaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Equalizing axis scale</span>
    axis(wingaflaxis,<span class="string">'equal'</span>)
    <span class="comment">%Unholding axis</span>
    hold(wingaflaxis,<span class="string">'off'</span>)
<span class="comment">%Drawing horizontal tail's airfoil</span>
    <span class="comment">%Holding axis</span>
    hold(htpaflaxis,<span class="string">'on'</span>)
    <span class="comment">%Drawing airfoil</span>
    <span class="keyword">if</span> haflstat==1
    <span class="keyword">if</span> drawhtpafl==1
        haflu=plot(HAFLX,HAFLYU,<span class="string">'Parent'</span>,htpaflaxis);
        hafll=plot(HAFLX,HAFLYL,<span class="string">'Parent'</span>,htpaflaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Equalizing axis scale</span>
    axis(htpaflaxis,<span class="string">'equal'</span>)
    <span class="comment">%Unholding axis</span>
    hold(htpaflaxis,<span class="string">'off'</span>)
<span class="comment">%Drawing vertical tail's airfoil</span>
    <span class="comment">%Holding axis</span>
    hold(vtpaflaxis,<span class="string">'on'</span>)
    <span class="comment">%Drawing airfoil</span>
    <span class="keyword">if</span> vaflstat==1
    <span class="keyword">if</span> drawvtpafl==1
        vaflu=plot(VAFLX,VAFLYU,<span class="string">'Parent'</span>,vtpaflaxis);
        vafll=plot(VAFLX,VAFLYL,<span class="string">'Parent'</span>,vtpaflaxis);
    <span class="keyword">end</span>
    <span class="keyword">end</span>
    <span class="comment">%Equalizing axis scale</span>
    axis(vtpaflaxis,<span class="string">'equal'</span>)
    <span class="comment">%Unholding axis</span>
    hold(vtpaflaxis,<span class="string">'off'</span>)
<span class="comment">%CodeEnd-------------------------------------------------------------------</span>

<span class="keyword">end</span>


<span class="comment">%--------------------------------------------------------------------------</span>
<span class="comment">%LocalFunction</span>
<span class="comment">%--------------------------------------------------------------------------</span>
<span class="keyword">function</span> [AFLX,AFLYU,AFLYL]=generateNACAairfoil(NACATYPE,NACA)
    <span class="keyword">if</span> NACATYPE==1
        [xu,yu,xl,yl,~,~]=GenerateNACASeries16Airfoil(NACA,20,<span class="string">'Uniform'</span>);
    <span class="keyword">elseif</span> NACATYPE==4
        [xu,yu,xl,yl,~,~]=GenerateNACASeries4Airfoil(NACA,20,<span class="string">'Uniform'</span>);
    <span class="keyword">elseif</span> NACATYPE==5
        [xu,yu,xl,yl,~,~]=GenerateNACASeries5Airfoil(NACA,20,<span class="string">'Uniform'</span>);
    <span class="keyword">elseif</span> NACATYPE==6
        [xu,yu,xl,yl,~,~]=GenerateNACASeries6Airfoil(NACA,20,<span class="string">'Uniform'</span>);
    <span class="keyword">end</span>
    xu(1)=0;
    xu(end)=1;
    xl(1)=0;
    xl(end)=1;
    AFLX=0:0.05:1;
    AFLYU=interp1(xu',yu',AFLX);
    AFLYL=interp1(xl',yl',AFLX);
<span class="keyword">end</span>
<span class="comment">%--------------------------------------------------------------------------</span>
</pre><img vspace="5" hspace="5" src="drawDATCOMaircraft_01.png" alt=""> <p class="footer"><br>
      Published with MATLAB&reg; 7.11<br></p></div><!--
##### SOURCE BEGIN #####
function drawDATCOMaircraft(datcominputfile)

%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
%viewDATCOMaircraft
%Version 1.00
%Created by Stepen
%Created 6 November 2011
%Last modified 20 November 2011
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
%viewDATCOMaircraft reads a DATCOM input file written in ASCI formats and
%draws simplified three view drawing of the aircraft defined by the input
%file.
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
%Syntax:
%drawDATCOMaircraft(datcominputfile)
%Input argument:
%datcominputfile (str) specifies file address and file name for DATCOM
%input file to be read.
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH

%CodeStartREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-
%Defining input (Comment this section to treat this m-files as function)
    clc
    clear
    datcominputfile=['D:\Personal Project Workspace\',...
                     'MATLAB - ACD Toolbox\PublishedCode\'...
                     'drawDATCOMaircraft\TestCase\',...
                     'TestCase05.dat'];
%Reading line by line datcom input file
    dcmstring=cell(1,1);
    tempdat=fopen(datcominputfile);
    count=1;
    tempstr='';
    while ischar(tempstr)
        tempstr=fgetl(tempdat);
        %Ignoring blank line and comment line
        if ~isempty(tempstr)
        if ~strcmp(tempstr(1),'*')
            dcmstring{count,1}=tempstr;
            count=count+1;
        end
        end
    end
    fclose(tempdat);
    clear('tempdat','tempstr')
%Defining custom variable for airfoil thickness and geometry
    WAT=0.05;
    HAT=0.05;
    VAT=0.05;
    VFAT=0.05;
    xafl_f=[0,0.0123116594048622,0.0489434837048465,0.108993475811632,...
            0.190983005625053,0.292893218813453];
    xafl_r=[0.292893218813453,0.412214747707527,...
            0.546009500260453,0.690983005625053,0.843565534959769,1];
    yafl_f=[0,0.0188036221875515,0.0352243977012065,0.0482776739701557,...
            0.0568242985323753,0.0600062953297346]/0.12;
    yafl_r=[0.0600062953297346,0.0575526726791933,...
            0.0498151946968353,0.0375106087229983,0.0212787901073766,...
            0]/0.12;
%Extracting and separating each namecard from dcmstring
    %Defining list of namecard to be extracted
    namecardlist={'SYNTHS','BODY','WGPLNF','HTPLNF','VTPLNF','VFPLNF',...
                  'TVTPAN','WGSCHR','HTSCHR','VTSCHR','VFSCHR'};
    %Performing extraction
        for namecardid=1:numel(namecardlist)
        %Finding the desired namecard
        namecardstat=zeros(numel(dcmstring),1);
        tempstat=0;
        for count=1:numel(dcmstring)
            if tempstat==0
                if strfind(dcmstring{count},namecardlist{namecardid})
                    namecardstat(count)=1;
                    if sum(dcmstring{count}=='$')==1
                        tempstat=1;
                    end
                end
            else
                namecardstat(count)=1;
                if sum(dcmstring{count}=='$')==1
                    tempstat=0;
                end
            end
        end
        %Extracting string for the desired namecard
        namecardstring=cell(sum(namecardstat),1);
        count2=1;
        for count1=1:numel(dcmstring)
            if namecardstat(count1)==1
                namecardstring{count2}=dcmstring{count1};
                count2=count2+1;
            end
        end
        %Storing string
        if namecardid==1
            synthstring=namecardstring;
            if isempty(synthstring)
                synthstat=0;
            else
                synthstat=1;
            end
        elseif namecardid==2
            bodystring=namecardstring;
            if isempty(bodystring)
                bodystat=0;
            else
                bodystat=1;
            end
        elseif namecardid==3
            wingstring=namecardstring;
            if isempty(wingstring)
                wingstat=0;
            else
                wingstat=1;
            end
        elseif namecardid==4
            htpstring=namecardstring;
            if isempty(htpstring)
                htpstat=0;
            else
                htpstat=1;
            end
        elseif namecardid==5
            vtpstring=namecardstring;
            if isempty(vtpstring)
                vtpstat=0;
            else
                vtpstat=1;
            end
        elseif namecardid==6
            vfpstring=namecardstring;
            if isempty(vfpstring)
                vfpstat=0;
            else
                vfpstat=1;
            end
        elseif namecardid==7
            tvtstring=namecardstring;
            if isempty(tvtstring)
                tvtstat=0;
            else
                tvtstat=1;
            end
        elseif namecardid==8
            waflstring=namecardstring;
            if isempty(waflstring)
                waflstat=0;
            else
                waflstat=1;
            end
        elseif namecardid==9
            haflstring=namecardstring;
            if isempty(haflstring)
                haflstat=0;
            else
                haflstat=1;
            end
        elseif namecardid==10
            vaflstring=namecardstring;
            if isempty(vaflstring)
                vaflstat=0;
            else
                vaflstat=1;
            end
        elseif namecardid==11
            vfaflstring=namecardstring;
            if isempty(vfaflstring)
                vfaflstat=0;
            else
                vfaflstat=1;
            end
        end
        end
%Extracting aircraft configuration parameters
    prop={'XCG=','ZCG=','XW=','ZW=','XH=','ZH=','XV=','ZV=','XVF=','ZVF='};
    temparray=zeros(numel(prop),1);
    for propcount=1:numel(prop)
        %Finding SYNTH parameter from synthstring
        if synthstat==1
            for count=1:numel(synthstring)
                if strfind(synthstring{count},prop{propcount})
                    tempstr=synthstring{count}...
                                       (strfind(synthstring{count},...
                                                prop{propcount})+...
                                        numel(prop{propcount}):end);
                    tempcell=textscan(tempstr,'%f');
                    tempval=tempcell{1};
                    break
                end
            end
            clear('tempstr','tempcell')
        end
        if exist('tempval','var')
            temparray(propcount)=tempval;
        end
        clear('tempval')
    end
%Assigning variables for aircraft configuration parameters
    XCG=temparray(1);ZCG=temparray(2);XW=temparray(3);ZW=temparray(4);
    XH=temparray(5);ZH=temparray(6);XV=temparray(7);ZV=temparray(8);
    XVF=temparray(9);ZVF=temparray(10);
%Reading fuselage geometry
    if bodystat==1
        %Extracting fuselage station number
        for count=1:numel(bodystring)
            if strfind(bodystring{count},'NX')
                tempstr=bodystring{count}...
                                  (strfind(bodystring{count},'NX')+3:end);
                tempcell=textscan(tempstr,'%f');
                NX=tempcell{1};
                break
            end
        end
        clear('tempstr','tempcell')
        %Generating format for textscan
        bodyscanformat='%f';
        for count=2:NX
            bodyscanformat=[bodyscanformat,',%f'];
        end
        %Extracting station related properties
        prop={'X(1)','ZU(1)','ZL(1)','R(1)','P(1)','S(1)'};
        for propcount=1:numel(prop)
            for count=1:numel(bodystring)
                if strfind(bodystring{count},prop{propcount})
                    tempstr=bodystring{count}...
                                      (strfind(bodystring{count},...
                                               prop{propcount})+...
                                       numel(prop{propcount})+1:...
                                       end);
                    tempcell=textscan(tempstr,bodyscanformat);
                    tempval=[];
                    for tempcount=1:numel(tempcell)
                        if ~isempty(tempcell{tempcount})
                            tempval=[tempval,tempcell{tempcount}];
                        else
                            break
                        end
                    end
                    temparray=tempval;
                    i=1;
                    while numel(temparray)<NX
                        tempstr=bodystring{count+i};
                        tempcell=textscan(tempstr,bodyscanformat);
                        tempval=[];
                        for tempcount=1:numel(tempcell)
                            if ~isempty(tempcell{tempcount})
                                tempval=[tempval,tempcell{tempcount}];
                            else
                                break
                            end
                        end
                        temparray=[temparray,tempval];
                        i=i+1;
                    end
                    break
                end
            end
            clear('tempstr','tempcell','tempval')
            if exist('temparray','var')
                if propcount==1
                    X=temparray;
                elseif propcount==2
                    ZU=temparray;
                elseif propcount==3
                    ZL=temparray;
                elseif propcount==4
                    R=temparray;
                elseif propcount==5
                    P=temparray;
                elseif propcount==6
                    S=temparray;
                end
                clear('temparray')
            end
        end
        %Extracting single value properties
        prop={'BNOSE','BTAIL','BLN','BLA','DS'};
        for propcount=1:numel(prop)
        for count=1:numel(bodystring)
            if strfind(bodystring{count},prop{propcount})
                tempstr=bodystring{count}...
                                  (strfind(bodystring{count},...
                                           prop{propcount})+...
                                   numel(prop{propcount})+1:end);
                tempcell=textscan(tempstr,'%f');
                tempval=tempcell{1};
                break
            end
        end
        clear('tempstr','tempcell')
        if exist('tempval','var')
            if propcount==1
                BNOSE=tempval;
            elseif propcount==2
                BTAIL=tempval;
            elseif propcount==3
                BLN=tempval;
            elseif propcount==4
                BLA=tempval;
            elseif propcount==5
                DS=tempval;
            end
        end
        clear('tempval')
        end
    end
%Reading wing geometry
    %Extracting wing planform properties
    if wingstat==1
        prop={'CHRDTP=','CHRDBP=','CHRDR=',...
              'SSPNOP=','SSPNE=','SSPN=','SSPNDO=',...
              'SAVSI=','SAVSO=','TWISTA=','DHDADI=','DHDADO=',...
              'TYPE=','CHSTAT='};
        for propcount=1:numel(prop)
        for count=1:numel(wingstring)
            if strfind(wingstring{count},prop{propcount})
                tempstr=wingstring{count}...
                                  (strfind(wingstring{count},...
                                           prop{propcount})+...
                                   numel(prop{propcount}):end);
                tempcell=textscan(tempstr,'%f');
                tempval=tempcell{1};
                break
            end
        end
        clear('tempstr','tempcell')
        if exist('tempval','var')
            if propcount==1
                WCHRDTP=tempval;
            elseif propcount==2
                WCHRDBP=tempval;
            elseif propcount==3
                WCHRDR=tempval;
            elseif propcount==4
                WSSPNOP=tempval;
            elseif propcount==5
                WSSPNE=tempval;
            elseif propcount==6
                WSSPN=tempval;
            elseif propcount==7
                WSSPNDO=tempval;
            elseif propcount==8
                WSAVSI=tempval;
            elseif propcount==9
                WSAVSO=tempval;
            elseif propcount==10
                WTWISTA=tempval;
            elseif propcount==11
                WDHDADI=tempval;
            elseif propcount==12
                WDHDADO=tempval;
            elseif propcount==13
                WTYPE=tempval;
            elseif propcount==14
                WCHSTAT=tempval;
            end
        end
        clear('tempval')
        end
    end
    %Extracting wing cross-section properties
    if waflstat==1
        %Extracting wing airfoil's point number
        for count=1:numel(waflstring)
            if strfind(waflstring{count},'NPTS')
                tempstr=waflstring{count}...
                                  (strfind(waflstring{count},'NPTS')+5:...
                                   end);
                tempcell=textscan(tempstr,'%f');
                WAFLNX=tempcell{1};
                break
            end
        end
        clear('tempstr','tempcell')
        %Generating format for textscan
        if exist('WAFLNX','var')
        waflscanformat='%f';
        for count=2:WAFLNX
            waflscanformat=[waflscanformat,',%f'];
        end
        end
        %Extracting wing airfoil geometry
        if exist('WAFLNX','var')
        prop={'XCORD(1)','MEAN(1)','THICK(1)','YUPPER(1)','YLOWER(1)'};
        for propcount=1:numel(prop)
            for count=1:numel(waflstring)
                if strfind(waflstring{count},prop{propcount})
                    tempstr=waflstring{count}...
                                      (strfind(waflstring{count},...
                                               prop{propcount})+...
                                       numel(prop{propcount})+1:...
                                       end);
                    tempcell=textscan(tempstr,waflscanformat);
                    tempval=[];
                    for tempcount=1:numel(tempcell)
                        if ~isempty(tempcell{tempcount})
                            tempval=[tempval,tempcell{tempcount}];
                        else
                            break
                        end
                    end
                    temparray=tempval;
                    i=1;
                    while numel(temparray)<WAFLNX
                        tempstr=waflstring{count+i};
                        tempcell=textscan(tempstr,waflscanformat);
                        tempval=[];
                        for tempcount=1:numel(tempcell)
                            if ~isempty(tempcell{tempcount})
                                tempval=[tempval,tempcell{tempcount}];
                            else
                                break
                            end
                        end
                        temparray=[temparray,tempval];
                        i=i+1;
                    end
                    break
                end
            end
            clear('tempstr','tempcell','tempval')
            if exist('temparray','var')
                if propcount==1
                    WAFLX=temparray;
                elseif propcount==2
                    WAFLMEAN=temparray;
                elseif propcount==3
                    WAFLTHICK=temparray;
                elseif propcount==4
                    WAFLYU=temparray;
                elseif propcount==5
                    WAFLYL=temparray;
                end
                clear('temparray')
            end
        end
        end
    else
        %Extracting NACA airfoil from dcmstring
        for count=1:numel(dcmstring)
            if strfind(dcmstring{count},'NACA-W-')
                tempstr=dcmstring{count}...
                                 (strfind(dcmstring{count},...
                                          'NACA-W-')+7);
                WNACATYPE=str2double(tempstr);
                if (WNACATYPE==4)||(WNACATYPE==5)||...
                   ((WNACATYPE==6)&&...
                   (~strcmp(dcmstring{count}...
                                     ((strfind(dcmstring{count},...
                                               'NACA-W-'))+12),'-')))
                    tempval=WNACATYPE;
                elseif (WNACATYPE==6)&&...
                       (strcmp(dcmstring{count}...
                                        ((strfind(dcmstring{count},...
                                                  'NACA-W-'))+12),'-'))
                    tempval=WNACATYPE+1;
                elseif WNACATYPE==1
                    tempval=5;
                end
                tempstr=dcmstring{count}...
                                 ((strfind(dcmstring{count},...
                                           'NACA-W-'))+9:...
                                  (strfind(dcmstring{count},...
                                           'NACA-W-')+8+tempval));
                WNACA=tempstr;
                break
            end
            if strfind(dcmstring{count},'NACA W ')
                tempstr=dcmstring{count}...
                                 (strfind(dcmstring{count},...
                                          'NACA W ')+7);
                WNACATYPE=str2double(tempstr);
                if (WNACATYPE==4)||(WNACATYPE==5)||...
                   ((WNACATYPE==6)&&...
                   (~strcmp(dcmstring{count}...
                                     ((strfind(dcmstring{count},...
                                               'NACA-W-'))+12),'-')))
                    tempval=WNACATYPE;
                elseif (WNACATYPE==6)&&...
                       (strcmp(dcmstring{count}...
                                        ((strfind(dcmstring{count},...
                                                  'NACA-W-'))+12),'-'))
                    tempval=WNACATYPE+1;
                elseif WNACATYPE==1
                    tempval=5;
                end
                tempstr=dcmstring{count}...
                                 ((strfind(dcmstring{count},...
                                           'NACA W '))+9:...
                                  (strfind(dcmstring{count},...
                                           'NACA W ')+8+tempval));
                WNACA=tempstr;
                break
            end
        end
        clear('tempstr')
        %Generating NACA airfoil geometry
        if exist('WNACA','var')
            try
                [WAFLX,WAFLYU,WAFLYL]=generateNACAairfoil(WNACATYPE,WNACA);
                waflstat=1;
                drawwingafl=1;
            catch
                waflstat=0;
                drawwingafl=0;
                disp(['Unexpected wing airfoil parameter!',...
                      ' Wing airfoil will not be drawn!'])
            end
        else
            waflstat=0;
            drawwingafl=0;
            disp(['Unexpected wing airfoil parameter!',...
                  ' Wing airfoil will not be drawn!'])
        end
    end
%Reading horizontal tail geometry
    %Extracting horizontal tail planform properties
    if htpstat==1
        prop={'CHRDTP=','CHRDBP=','CHRDR=',...
              'SSPNOP=','SSPNE=','SSPN=','SSPNDO=',...
              'SAVSI=','SAVSO=','TWISTA=','DHDADI=','DHDADO=',...
              'TYPE=','CHSTAT='};
        for propcount=1:numel(prop)
        for count=1:numel(htpstring)
            if strfind(htpstring{count},prop{propcount})
                tempstr=htpstring{count}...
                                  (strfind(htpstring{count},...
                                           prop{propcount})+...
                                   numel(prop{propcount}):end);
                tempcell=textscan(tempstr,'%f');
                tempval=tempcell{1};
                break
            end
        end
        clear('tempstr','tempcell')
        if exist('tempval','var')
            if propcount==1
                HCHRDTP=tempval;
            elseif propcount==2
                HCHRDBP=tempval;
            elseif propcount==3
                HCHRDR=tempval;
            elseif propcount==4
                HSSPNOP=tempval;
            elseif propcount==5
                HSSPNE=tempval;
            elseif propcount==6
                HSSPN=tempval;
            elseif propcount==7
                HSSPNDO=tempval;
            elseif propcount==8
                HSAVSI=tempval;
            elseif propcount==9
                HSAVSO=tempval;
            elseif propcount==10
                HTWISTA=tempval;
            elseif propcount==11
                HDHDADI=tempval;
            elseif propcount==12
                HDHDADO=tempval;
            elseif propcount==13
                HTYPE=tempval;
            elseif propcount==14
                HCHSTAT=tempval;
            end
        end
        clear('tempval')
        end
    end
    %Extracting horizontal tail cross-section properties
    if haflstat==1
        %Extracting horizontal tail airfoil's point number
        for count=1:numel(haflstring)
            if strfind(haflstring{count},'NPTS')
                tempstr=haflstring{count}...
                                  (strfind(haflstring{count},'NPTS')+5:...
                                   end);
                tempcell=textscan(tempstr,'%f');
                HAFLNX=tempcell{1};
                break
            end
        end
        clear('tempstr','tempcell')
        %Generating format for textscan
        if exist('HAFLNX','var')
        haflscanformat='%f';
        for count=2:HAFLNX
            haflscanformat=[haflscanformat,',%f'];
        end
        end
        %Extracting horizontal tail airfoil geometry
        if exist('HAFLNX','var')
        prop={'XCORD(1)','MEAN(1)','THICK(1)','YUPPER(1)','YLOWER(1)'};
        for propcount=1:numel(prop)
            for count=1:numel(haflstring)
                if strfind(haflstring{count},prop{propcount})
                    tempstr=haflstring{count}...
                                      (strfind(haflstring{count},...
                                               prop{propcount})+...
                                       numel(prop{propcount})+1:...
                                       end);
                    tempcell=textscan(tempstr,haflscanformat);
                    tempval=[];
                    for tempcount=1:numel(tempcell)
                        if ~isempty(tempcell{tempcount})
                            tempval=[tempval,tempcell{tempcount}];
                        else
                            break
                        end
                    end
                    temparray=tempval;
                    i=1;
                    while numel(temparray)<HAFLNX
                        tempstr=haflstring{count+i};
                        tempcell=textscan(tempstr,haflscanformat);
                        tempval=[];
                        for tempcount=1:numel(tempcell)
                            if ~isempty(tempcell{tempcount})
                                tempval=[tempval,tempcell{tempcount}];
                            else
                                break
                            end
                        end
                        temparray=[temparray,tempval];
                        i=i+1;
                    end
                    break
                end
            end
            clear('tempstr','tempcell','tempval')
            if exist('temparray','var')
                if propcount==1
                    HAFLX=temparray;
                elseif propcount==2
                    HAFLMEAN=temparray;
                elseif propcount==3
                    HAFLTHICK=temparray;
                elseif propcount==4
                    HAFLYU=temparray;
                elseif propcount==5
                    HAFLYL=temparray;
                end
                clear('temparray')
            end
        end
        end
    else
        %Extracting NACA airfoil from dcmstring
        for count=1:numel(dcmstring)
            if strfind(dcmstring{count},'NACA-H-')
                tempstr=dcmstring{count}...
                                 (strfind(dcmstring{count},...
                                          'NACA-H-')+7);
                HNACATYPE=str2double(tempstr);
                if (HNACATYPE==4)||(HNACATYPE==5)||...
                   ((HNACATYPE==6)&&...
                   (~strcmp(dcmstring{count}...
                                     ((strfind(dcmstring{count},...
                                               'NACA-H-'))+12),'-')))
                    tempval=HNACATYPE;
                elseif (HNACATYPE==6)&&...
                       (strcmp(dcmstring{count}...
                                        ((strfind(dcmstring{count},...
                                                  'NACA-H-'))+12),'-'))
                    tempval=HNACATYPE+1;
                elseif HNACATYPE==1
                    tempval=5;
                end
                tempstr=dcmstring{count}...
                                 ((strfind(dcmstring{count},...
                                           'NACA-H-'))+9:...
                                  (strfind(dcmstring{count},...
                                           'NACA-H-')+8+tempval));
                HNACA=tempstr;
                break
            end
            if strfind(dcmstring{count},'NACA H ')
                tempstr=dcmstring{count}...
                                 (strfind(dcmstring{count},...
                                          'NACA H ')+7);
                HNACATYPE=str2double(tempstr);
                if (HNACATYPE==4)||(HNACATYPE==5)||...
                   ((HNACATYPE==6)&&...
                   (~strcmp(dcmstring{count}...
                                     ((strfind(dcmstring{count},...
                                               'NACA-H-'))+12),'-')))
                    tempval=HNACATYPE;
                elseif (HNACATYPE==6)&&...
                       (strcmp(dcmstring{count}...
                                        ((strfind(dcmstring{count},...
                                                  'NACA-H-'))+12),'-'))
                    tempval=HNACATYPE+1;
                elseif HNACATYPE==1
                    tempval=5;
                end
                tempstr=dcmstring{count}...
                                 ((strfind(dcmstring{count},...
                                           'NACA H '))+9:...
                                  (strfind(dcmstring{count},...
                                           'NACA H ')+8+tempval));
                HNACA=tempstr;
                break
            end
        end
        clear('tempstr')
        %Generating NACA airfoil geometry
        if exist('HNACA','var')
            try
                [HAFLX,HAFLYU,HAFLYL]=generateNACAairfoil(HNACATYPE,HNACA);
                haflstat=1;
                drawhtpafl=1;
            catch
                haflstat=0;
                drawhtpafl=0;
                disp(['Unexpected horizontal tail airfoil parameter!',...
                      ' Horizontal tail airfoil will not be drawn!'])
            end
        else
            haflstat=0;
            drawhtpafl=0;
            disp(['Unexpected horizontal tail airfoil parameter!',...
                  ' Horizontal tail airfoil will not be drawn!'])
        end
    end
%Reading vertical tail geometry
    %Extracting vertical tail planform properties
    if vtpstat==1
        prop={'CHRDTP=','CHRDBP=','CHRDR=',...
              'SSPNOP=','SSPNE=','SSPN=',...
              'SAVSI=','SAVSO=',...
              'TYPE=','CHSTAT='};
        for propcount=1:numel(prop)
        for count=1:numel(vtpstring)
            if strfind(vtpstring{count},prop{propcount})
                tempstr=vtpstring{count}...
                                  (strfind(vtpstring{count},...
                                           prop{propcount})+...
                                   numel(prop{propcount}):end);
                tempcell=textscan(tempstr,'%f');
                tempval=tempcell{1};
                break
            end
        end
        clear('tempstr','tempcell')
        if exist('tempval','var')
            if propcount==1
                VCHRDTP=tempval;
            elseif propcount==2
                VCHRDBP=tempval;
            elseif propcount==3
                VCHRDR=tempval;
            elseif propcount==4
                VSSPNOP=tempval;
            elseif propcount==5
                VSSPNE=tempval;
            elseif propcount==6
                VSSPN=tempval;
            elseif propcount==7
                VSAVSI=tempval;
            elseif propcount==8
                VSAVSO=tempval;
            elseif propcount==9
                VTYPE=tempval;
            elseif propcount==10
                VCHSTAT=tempval;
            end
        end
        clear('tempval')
        end
    end
    %Extracting vertical tail cross-section properties
    if vaflstat==1
        %Extracting vertical tail airfoil's point number
        for count=1:numel(vaflstring)
            if strfind(vaflstring{count},'NPTS')
                tempstr=vaflstring{count}...
                                  (strfind(vaflstring{count},'NPTS')+5:...
                                   end);
                tempcell=textscan(tempstr,'%f');
                VAFLNX=tempcell{1};
                break
            end
        end
        clear('tempstr','tempcell')
        %Generating format for textscan
        if exist('VAFLNX','var')
        vaflscanformat='%f';
        for count=2:VAFLNX
            vaflscanformat=[vaflscanformat,',%f'];
        end
        end
        %Extracting horizontal tail airfoil geometry
        if exist('VAFLNX','var')
        prop={'XCORD(1)','MEAN(1)','THICK(1)','YUPPER(1)','YLOWER(1)'};
        for propcount=1:numel(prop)
            for count=1:numel(vaflstring)
                if strfind(vaflstring{count},prop{propcount})
                    tempstr=vaflstring{count}...
                                      (strfind(vaflstring{count},...
                                               prop{propcount})+...
                                       numel(prop{propcount})+1:...
                                       end);
                    tempcell=textscan(tempstr,vaflscanformat);
                    tempval=[];
                    for tempcount=1:numel(tempcell)
                        if ~isempty(tempcell{tempcount})
                            tempval=[tempval,tempcell{tempcount}];
                        else
                            break
                        end
                    end
                    temparray=tempval;
                    i=1;
                    while numel(temparray)<VAFLNX
                        tempstr=vaflstring{count+i};
                        tempcell=textscan(tempstr,vaflscanformat);
                        tempval=[];
                        for tempcount=1:numel(tempcell)
                            if ~isempty(tempcell{tempcount})
                                tempval=[tempval,tempcell{tempcount}];
                            else
                                break
                            end
                        end
                        temparray=[temparray,tempval];
                        i=i+1;
                    end
                    break
                end
            end
            clear('tempstr','tempcell','tempval')
            if exist('temparray','var')
                if propcount==1
                    VAFLX=temparray;
                elseif propcount==2
                    VAFLMEAN=temparray;
                elseif propcount==3
                    VAFLTHICK=temparray;
                elseif propcount==4
                    VAFLYU=temparray;
                elseif propcount==5
                    VAFLYL=temparray;
                end
                clear('temparray')
            end
        end
        end
    else
        %Extracting NACA airfoil from dcmstring
        for count=1:numel(dcmstring)
            if strfind(dcmstring{count},'NACA-V-')
                tempstr=dcmstring{count}...
                                 (strfind(dcmstring{count},...
                                          'NACA-V-')+7);
                VNACATYPE=str2double(tempstr);
                if (VNACATYPE==4)||(VNACATYPE==5)||...
                   ((VNACATYPE==6)&&...
                   (~strcmp(dcmstring{count}...
                                     ((strfind(dcmstring{count},...
                                               'NACA-V-'))+12),'-')))
                    tempval=VNACATYPE;
                elseif (VNACATYPE==6)&&...
                       (strcmp(dcmstring{count}...
                                        ((strfind(dcmstring{count},...
                                                  'NACA-V-'))+12),'-'))
                    tempval=VNACATYPE+1;
                elseif VNACATYPE==1
                    tempval=5;
                end
                tempstr=dcmstring{count}...
                                 ((strfind(dcmstring{count},...
                                           'NACA-V-'))+9:...
                                  (strfind(dcmstring{count},...
                                           'NACA-V-')+8+tempval));
                VNACA=tempstr;
                break
            end
            if strfind(dcmstring{count},'NACA V ')
                tempstr=dcmstring{count}...
                                 (strfind(dcmstring{count},...
                                          'NACA V ')+7);
                VNACATYPE=str2double(tempstr);
                if (VNACATYPE==4)||(VNACATYPE==5)||...
                   ((VNACATYPE==6)&&...
                   (~strcmp(dcmstring{count}...
                                     ((strfind(dcmstring{count},...
                                               'NACA-V-'))+12),'-')))
                    tempval=VNACATYPE;
                elseif (VNACATYPE==6)&&...
                       (strcmp(dcmstring{count}...
                                        ((strfind(dcmstring{count},...
                                                  'NACA-V-'))+12),'-'))
                    tempval=VNACATYPE+1;
                elseif VNACATYPE==1
                    tempval=5;
                end
                tempstr=dcmstring{count}...
                                 ((strfind(dcmstring{count},...
                                           'NACA V '))+9:...
                                  (strfind(dcmstring{count},...
                                           'NACA V ')+8+tempval));
                VNACA=tempstr;
                break
            end
        end
        clear('tempstr')
        %Generating NACA airfoil geometry
        if exist('VNACA','var')
            try
                [VAFLX,VAFLYU,VAFLYL]=generateNACAairfoil(VNACATYPE,VNACA);
                vaflstat=1;
                drawvtpafl=1;
            catch
                vaflstat=0;
                drawvtpafl=0;
                disp(['Unexpected vertical tail airfoil parameter!',...
                      ' Vertical tail airfoil will not be drawn!'])
            end
        else
            vaflstat=0;
            drawvtpafl=0;
            disp(['Unexpected vertical tail airfoil parameter!',...
                  ' Vertical tail airfoil will not be drawn!'])
        end
    end
%Reading ventral fin geometry
    %Extracting ventral fin planform properties
    if vfpstat==1
        prop={'CHRDTP=','CHRDBP=','CHRDR=',...
              'SSPNOP=','SSPNE=','SSPN=',...
              'SAVSI=','SAVSO=',...
              'TYPE=','CHSTAT='};
        for propcount=1:numel(prop)
        for count=1:numel(vfpstring)
            if strfind(vfpstring{count},prop{propcount})
                tempstr=vfpstring{count}...
                                  (strfind(vfpstring{count},...
                                           prop{propcount})+...
                                   numel(prop{propcount}):end);
                tempcell=textscan(tempstr,'%f');
                tempval=tempcell{1};
                break
            end
        end
        clear('tempstr','tempcell')
        if exist('tempval','var')
            if propcount==1
                VFCHRDTP=tempval;
            elseif propcount==2
                VFCHRDBP=tempval;
            elseif propcount==3
                VFCHRDR=tempval;
            elseif propcount==4
                VFSSPNOP=tempval;
            elseif propcount==5
                VFSSPNE=tempval;
            elseif propcount==6
                VFSSPN=tempval;
            elseif propcount==7
                VFSAVSI=tempval;
            elseif propcount==8
                VFSAVSO=tempval;
            elseif propcount==9
                VFTYPE=tempval;
            elseif propcount==10
                VFCHSTAT=tempval;
            end
        end
        clear('tempval')
        end
    end
%Reading twin vertical tail geometry
    %Extracting twin vertical tail planform properties
    if tvtstat==1
        prop={'BH=','BVP=','BV=',...
              'SV=','VPHITE=','VLP=','ZP='};
        for propcount=1:numel(prop)
        for count=1:numel(tvtstring)
            if strfind(tvtstring{count},prop{propcount})
                tempstr=tvtstring{count}...
                                  (strfind(tvtstring{count},...
                                           prop{propcount})+...
                                   numel(prop{propcount}):end);
                tempcell=textscan(tempstr,'%f');
                tempval=tempcell{1};
                break
            end
        end
        clear('tempstr','tempcell')
        if exist('tempval','var')
            if propcount==1
                TVTBH=tempval;
            elseif propcount==2
                TVTBVP=tempval;
            elseif propcount==3
                TVTBV=tempval;
            elseif propcount==4
                TVTSV=tempval;
            elseif propcount==5
                TVTVPHITE=tempval;
            elseif propcount==6
                TVTVLP=tempval;
            elseif propcount==7
                TVTZP=tempval;
            end
        end
        clear('tempval')
        end
    end
%Performing check and calculation for fuselage drawing
    if bodystat==1
    %Checking fuselage parameter from BODY namecard
    if (~exist('X','var'))||((~exist('R','var'))&&(~exist('P','var'))&&...
                             (~exist('S','var')))
        drawfuselage=0;
        disp(['Insufficient fuselage parameter!',...
              ' Fuselage will not be drawn!'])
    else
        drawfuselage=1;
    end
    %Calculating fuselage line based on fuselage parameter read
    if drawfuselage==1
        %Estimating fuselage radius
        if ~exist('R','var')
            if exist('P','var')&&~exist('S','var')
                R=P/(2*pi);
            elseif exist('S','var')
                R=sqrt(S/pi);
            end
        end
    end
    end
%Performing check and calculation for wing drawing
    if wingstat==1
    %Checking the existence of wing type parameter
    if ~exist('WTYPE','var')
        WTYPE=1;
        disp(['Wing type parameter is not found!',...
              ' Parameter value was set to 1.'])
    end
    %Checking wing parameter from WGPLNF namecard
    if WTYPE==1
        if (~exist('WSSPN','var'))||...
           (~exist('WCHRDTP','var'))||(~exist('WCHRDR','var'))
            drawwing=0;
            disp(['Insufficient wing parameter!',...
                  ' Wing will not be drawn!'])
        else
            drawwing=1;
            if ~exist('WSAVSI','var')
                WSAVSI=0;
            end
            if ~exist('WDHDADI','var')
                WDHDADI=0;
            end
        end
    elseif (WTYPE==2)||(WTYPE==3)
        if (~exist('WSSPN','var'))||(~exist('WSSPNOP','var'))||...
           (~exist('WCHRDTP','var'))||(~exist('WCHRDBP','var'))||...
           (~exist('WCHRDR','var'))
            drawwing=0;
            disp(['Insufficient wing parameter!',...
                  ' Wing will not be drawn!'])
        else
            drawwing=1;
            if ~exist('WSAVSI','var')
                WSAVSI=0;
            end
            if ~exist('WDHDADI','var')
                WDHDADI=0;
            end
            if ~exist('WSAVSO','var')
                WSAVSO=0;
            end
            if ~exist('WDHDADO','var')
                WDHDADO=0;
            end
        end
    else
        drawwing=0;
        disp(['Unexpected wing type parameter!',...
              ' Wing will not be drawn!'])
    end
    %Checking wing parameter from SYNTHS namecard
    if (~exist('XW','var'))||(~exist('ZW','var'))
        drawwing=0;
        disp(['Undefined wing synths parameter!',...
              ' Wing will not be drawn!'])
    end
    %Determining WCHSTAT value
    if ~exist('WCHSTAT','var')
        WCHSTAT=0;
    end
    %Calculating wing line based on wing parameter read
    if drawwing==1
        %Calculating LE and TE line for straight tapered planform
        if WTYPE==1
            xwing=[XW,...
                   (XW+(WCHSTAT*WCHRDR)+(WSSPN*tand(WSAVSI)-...
                                        (WCHSTAT*WCHRDTP))),...
                   (XW+(WCHSTAT*WCHRDR)+(WSSPN*tand(WSAVSI)+...
                                        ((1-WCHSTAT)*WCHRDTP))),...
                   XW+WCHRDR];
            ywing=[0,WSSPN,WSSPN,0];
            zwing=[ZW,...
                   (ZW+(WSSPN*tand(WDHDADI))),...
                   (ZW+(WSSPN*tand(WDHDADI))),...
                   ZW];
            zwingf=[(ZW+(WAT*WCHRDR)),...
                    (ZW+(WSSPN*tand(WDHDADI))+(WAT*WCHRDTP)),...
                    (ZW+(WSSPN*tand(WDHDADI))-(WAT*WCHRDTP)),...
                    (ZW-(WAT*WCHRDR))];
        end
        %Calculating LE and TE line for double cranked planform
        if (WTYPE==2)||(WTYPE==3)
            xwing=[XW,...
                   (XW+(WCHSTAT*WCHRDR)+((WSSPN-WSSPNOP)*tand(WSAVSI))-...
                                        (WCHSTAT*WCHRDBP)),...
                   (XW+(WCHSTAT*WCHRDR)+((WSSPN-WSSPNOP)*tand(WSAVSI))+...
                                        (WSSPNOP*tand(WSAVSO))-...
                                        (WCHSTAT*WCHRDTP)),...
                   (XW+(WCHSTAT*WCHRDR)+((WSSPN-WSSPNOP)*tand(WSAVSI))+...
                                        (WSSPNOP*tand(WSAVSO))+...
                                        ((1-WCHSTAT)*WCHRDTP)),...
                   (XW+(WCHSTAT*WCHRDR)+((WSSPN-WSSPNOP)*tand(WSAVSI))+...
                                        ((1-WCHSTAT)*WCHRDBP)),...
                   XW+WCHRDR];
            ywing=[0,(WSSPN-WSSPNOP),WSSPN,WSSPN,(WSSPN-WSSPNOP),0];
            zwing=[ZW,...
                   (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))),...
                   (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))+...
                       (WSSPNOP*tand(WDHDADO))),...
                   (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))+...
                       (WSSPNOP*tand(WDHDADO))),...
                   (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))),...
                   ZW];
            zwingf=[(ZW+(WAT*WCHRDR)),...
                    (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))+(WAT*WCHRDBP)),...
                    (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))+...
                        (WSSPNOP*tand(WDHDADO))+(WAT*WCHRDTP)),...
                    (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))+...
                        (WSSPNOP*tand(WDHDADO))-(WAT*WCHRDTP)),...
                    (ZW+((WSSPN-WSSPNOP)*tand(WDHDADI))-(WAT*WCHRDBP)),...
                    (ZW-(WAT*WCHRDR))];
        end
    end
    end
%Performing check and calculation for wing airfoil drawing
    if waflstat==1
    %Checking wing airfoil parameter
    if (exist('WAFLX','var'))&&...
       (((exist('WAFLMEAN','var'))||(exist('WAFLTHICK','var')))||...
        (exist('WAFLYU','var'))&&(exist('WAFLYL','var')))
        drawwingafl=1;
    else
        drawwingafl=0;
        disp(['Insufficient wing airfoil parameter!',...
              ' Wing airfoil will not be drawn!'])
    end
    %Calculating wing airfoil line
    if drawwingafl==1
        if (~exist('WAFLYU','var'))||(~exist('WAFLYL','var'))
            if (~exist('WAFLTHICK','var'))
                WAFLTHICK=zeros(size(WAFLX));
            end
            if (~exist('WAFLMEAN','var'))
                WAFLMEAN=zeros(size(WAFLX));
            end
            WAFLYU=WAFLMEAN+(0.5*WAFLTHICK);
            WAFLYL=WAFLMEAN-(0.5*WAFLTHICK);
        end
    end
    end
%Performing check and calculation for horizontal tail drawing
    if htpstat==1
    %Checking the existence of horizontal tail type parameter
    if ~exist('HTYPE','var')
        HTYPE=1;
        disp(['Horizontal tail type parameter is not found!',...
              ' Parameter value was set to 1.'])
    end
    %Checking horizontal parameter from HTPLNF namecard
    if HTYPE==1
        if (~exist('HSSPN','var'))||...
           (~exist('HCHRDTP','var'))||(~exist('HCHRDR','var'))
            drawhtp=0;
            disp(['Insufficient horizontal tail parameter!',...
                  ' Horizontal tail will not be drawn!'])
        else
            drawhtp=1;
            if ~exist('HSAVSI','var')
                HSAVSI=0;
            end
            if ~exist('HDHDADI','var')
                HDHDADI=0;
            end
        end
    elseif (HTYPE==2)||(HTYPE==3)
        if (~exist('HSSPN','var'))||(~exist('HSSPNOP','var'))||...
           (~exist('HCHRDTP','var'))||(~exist('HCHRDBP','var'))||...
           (~exist('HCHRDR','var'))
            drawhtp=0;
            disp(['Insufficient horizontal tail parameter!',...
                  ' Horizontal tail will not be drawn!'])
        else
            drawhtp=1;
            if ~exist('HSAVSI','var')
                HSAVSI=0;
            end
            if ~exist('HDHDADI','var')
                HDHDADI=0;
            end
            if ~exist('HSAVSO','var')
                HSAVSO=0;
            end
            if ~exist('HDHDADO','var')
                HDHDADO=0;
            end
        end
    else
        drawhtp=0;
        disp(['Unexpected horizontal tail type parameter!',...
              ' Horizontal tail will not be drawn!'])
    end
    %Checking horizontal tail parameter from SYNTHS namecard
    if (~exist('XH','var'))||(~exist('ZH','var'))
        drawhtp=0;
        disp(['Undefined horizontal tail synths parameter!',...
              ' Horizontal tail will not be drawn!'])
    end
    %Determining HCHSTAT value
    if ~exist('HCHSTAT','var')
        HCHSTAT=0;
    end
    %Calculating h-tail line based on horizontal tail parameter read
    if drawhtp==1
        %Calculating LE and TE line for straight tapered planform
        if HTYPE==1
            xhtp=[XH,...
                  (XH+(HCHSTAT*HCHRDR))+(HSSPN*tand(HSAVSI))-...
                                        (HCHSTAT*HCHRDTP),...
                  (XH+(HCHSTAT*HCHRDR))+(HSSPN*tand(HSAVSI))+...
                                        ((1-HCHSTAT)*HCHRDTP),...
                   XH+HCHRDR];
            yhtp=[0,HSSPN,HSSPN,0];
            zhtp=[ZH,...
                  (ZH+(HSSPN*tand(HDHDADI))),...
                  (ZH+(HSSPN*tand(HDHDADI))),...
                  ZH];
            zhtpf=[(ZH+(HAT*HCHRDR)),...
                   (ZH+(HSSPN*tand(HDHDADI))+(HAT*HCHRDTP)),...
                   (ZH+(HSSPN*tand(HDHDADI))-(HAT*HCHRDTP)),...
                   (ZH-(HAT*HCHRDR))];
        end
        %Calculating LE and TE line for double cranked planform
        if (HTYPE==2)||(HTYPE==3)
            xhtp=[XH,...
                  (XH+(HCHSTAT*HCHRDR))+((HSSPN-HSSPNOP)*tand(HSAVSI))-...
                                        (HCHSTAT*HCHRDBP),...
                  (XH+(HCHSTAT*HCHRDR))+((HSSPN-HSSPNOP)*tand(HSAVSI))+...
                                        (HSSPNOP*tand(HSAVSO))-...
                                        (HCHSTAT*HCHRDTP),...
                  (XH+(HCHSTAT*HCHRDR))+((HSSPN-HSSPNOP)*tand(HSAVSI))+...
                                        (HSSPNOP*tand(HSAVSO))+...
                                        ((1-HCHSTAT)*HCHRDTP),...
                  (XH+(HCHSTAT*HCHRDR))+((HSSPN-HSSPNOP)*tand(HSAVSI))+...
                                        ((1-HCHSTAT)*HCHRDBP),...
                  XH+HCHRDR];
            yhtp=[0,(HSSPN-HSSPNOP),HSSPNOP,HSSPNOP,(HSSPN-HSSPNOP),0];
            zhtp=[ZH,...
                  (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))),...
                  (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))+...
                      (HSSPNOP*tand(HDHDADO))),...
                  (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))+...
                      (HSSPNOP*tand(HDHDADO))),...
                  (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))),...
                  ZH];
            zhtpf=[(ZH+(HAT*HCHRDR)),...
                   (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))+(HAT*HCHRDBP)),...
                   (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))+...
                       (HSSPNOP*tand(HDHDADO))+(HAT*HCHRDTP)),...
                   (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))+...
                       (HSSPNOP*tand(HDHDADO))-(HAT*HCHRDTP)),...
                   (ZH+((HSSPN-HSSPNOP)*tand(HDHDADI))-(HAT*HCHRDBP)),...
                   (ZH-(HAT*HCHRDR))];
        end
    end
    end
%Performing check and calculation for horizontal tail airfoil drawing
    if haflstat==1
    %Checking horizontal tail airfoil parameter
    if (exist('HAFLX','var'))&&...
       (((exist('HAFLMEAN','var'))||(exist('HAFLTHICK','var')))||...
        (exist('HAFLYU','var'))&&(exist('HAFLYL','var')))
        drawhtpafl=1;
    else
        drawhtpafl=0;
        disp(['Insufficient horizontal tail airfoil parameter!',...
              ' Horizontal tail will not be drawn!'])
    end
    %Calculating horizontal tail airfoil line
    if drawhtpafl==1
        if (~exist('HAFLYU','var'))||(~exist('HAFLYL','var'))
            if (~exist('HAFLTHICK','var'))
                HAFLTHICK=zeros(size(HAFLX));
            end
            if (~exist('HAFLMEAN','var'))
                HAFLMEAN=zeros(size(HAFLX));
            end
            HAFLYU=HAFLMEAN+(0.5*HAFLTHICK);
            HAFLYL=HAFLMEAN-(0.5*HAFLTHICK);
        end
    end
    end
%Performing check and calculation for vertical tail drawing
    if vtpstat==1
    %Checking the existence of vertical tail type parameter
    if ~exist('VTYPE','var')
        VTYPE=1;
        disp(['Vertical tail type parameter is not found!',...
              ' Parameter value was set to 1.'])
    end
    %Checking vertical parameter from VTPLNF namecard
    if VTYPE==1
        if (~exist('VSSPN','var'))||...
           (~exist('VCHRDTP','var'))||(~exist('VCHRDR','var'))
            drawvtp=0;
            disp(['Insufficient vertical tail parameter!',...
                  ' Vertical tail will not be drawn!'])
        else
            drawvtp=1;
            if ~exist('VSAVSI','var')
                VSAVSI=0;
            end
        end
    elseif (VTYPE==2)||(VTYPE==3)
        if (~exist('VSSPN','var'))||(~exist('VSSPNOP','var'))||...
           (~exist('VCHRDTP','var'))||(~exist('VCHRDBP','var'))||...
           (~exist('VCHRDR','var'))||...
           (~exist('VSAVSI','var'))||(~exist('VSAVSO','var'))
            drawvtp=0;
            disp(['Insufficient vertical tail parameter!',...
                  ' Vertical tail will not be drawn!'])
        else
            drawvtp=1;
            if ~exist('VSAVSI','var')
                VSAVSI=0;
            end
            if ~exist('VSAVSO','var')
                VSAVSO=0;
            end
        end
    else
        drawvtp=0;
        disp(['Unexpected vertical tail type parameter!',...
              ' Vertical tail will not be drawn!'])
    end
    %Checking vertical tail parameter from SYNTHS namecard
    if (~exist('XV','var'))||(~exist('ZV','var'))
        drawvtp=0;
        disp(['Undefined vertical tail synths parameter!',...
              ' Vertical tail will not be drawn!'])
    end
    %Determining VCHSTAT value
    if ~exist('VCHSTAT','var')
        VCHSTAT=0;
    end
    %Calculating vertical tail line based on vertical parameter read
    if drawvtp==1
        %Calculating LE and TE line for straight tapered planform
        if VTYPE==1
            xvtp=[XV,...
                  (XV+(VCHSTAT*VCHRDR)+(VSSPN*tand(VSAVSI))-...
                                       (VCHSTAT*VCHRDTP)),...
                  (XV+(VCHSTAT*VCHRDR)+(VSSPN*tand(VSAVSI))+...
                                       ((1-VCHSTAT)*VCHRDTP)),...
                  XV+VCHRDR];
            yvtp=[VAT*VCHRDR,VAT*VCHRDTP,-VAT*VCHRDTP,-VAT*VCHRDR];
            zvtp=ZV+[0,VSSPN,VSSPN,0];
        end
        %Calculating LE and TE line for double cranked planform
        if (VTYPE==2)||(VTYPE==3)
            xvtp=[XV,...
                  (XV+(VCHSTAT*VCHRDR)+((VSSPN-VSSPNOP)*tand(VSAVSI))-...
                                       (VCHSTAT*VCHRDBP)),...
                  (XV+(VCHSTAT*VCHRDR)+((VSSPN-VSSPNOP)*tand(VSAVSI))+...
                                       (VSSPNOP*tand(VSAVSO))-...
                                       (VCHSTAT*VCHRDTP)),...
                  (XV+(VCHSTAT*VCHRDR)+((VSSPN-VSSPNOP)*tand(VSAVSI))+...
                                       (VSSPNOP*tand(VSAVSO))+...
                                       ((1-VCHSTAT)*VCHRDTP)),...
                  (XV+(VCHSTAT*VCHRDR)+((VSSPN-VSSPNOP)*tand(VSAVSI))+...
                                       (VSSPNOP*tand(VSAVSO))+...
                                       ((1-VCHSTAT)*VCHRDBP)),...
                  XV+VCHRDR];
            yvtp=[VAT*VCHRDR,VAT*VCHRDBP,VAT*VCHRDTP,...
                  -VAT*VCHRDTP,-VAT*VCHRDBP,-VAT*VCHRDR];
            zvtp=ZV+[0,(VSSPN-VSSPNOP),VSSPNOP,VSSPNOP,(VSSPN-VSSPNOP),0];
        end
    end
    end
%Performing check and calculation for vertical tail airfoil drawing
    if vaflstat==1
    %Checking vertical tail airfoil parameter
    if (exist('VAFLX','var'))&&...
       (((exist('VAFLMEAN','var'))||(exist('VAFLTHICK','var')))||...
        (exist('VAFLYU','var'))&&(exist('VAFLYL','var')))
        drawvtpafl=1;
    else
        drawvtpafl=0;
        disp(['Insufficient vertical tail airfoil parameter!',...
              ' Vertical tail will not be drawn!'])
    end
    %Calculating vertical tail airfoil line
    if drawvtpafl==1
        if (~exist('VAFLYU','var'))||(~exist('VAFLYL','var'))
            if (~exist('VAFLTHICK','var'))
                VAFLTHICK=zeros(size(VAFLX));
            end
            if (~exist('VAFLMEAN','var'))
                VAFLMEAN=zeros(size(VAFLX));
            end
            VAFLYU=VAFLMEAN+(0.5*VAFLTHICK);
            VAFLYL=VAFLMEAN-(0.5*VAFLTHICK);
        end
    end
    end
%Performing check and calculation for ventral fin drawing
    if vfpstat==1
    %Checking the existence of ventral fin type parameter
    if ~exist('VFTYPE','var')
        VFTYPE=1;
        disp(['Ventral fin type parameter is not found!',...
              ' Parameter value was set to 1.'])
    end
    %Checking ventral fin parameter from VFPLNF namecard
    if VFTYPE==1
        if (~exist('VFSSPN','var'))||...
           (~exist('VFCHRDTP','var'))||(~exist('VFCHRDR','var'))||...
           (~exist('VFSAVSI','var'))
            drawvfp=0;
            disp(['Insufficient ventral fin parameter!',...
                  ' Ventral fin will not be drawn!'])
        else
            drawvfp=1;
        end
    elseif (VFTYPE==2)||(VFTYPE==3)
        if (~exist('VFSSPN','var'))||(~exist('VFSSPNOP','var'))||...
           (~exist('VFCHRDTP','var'))||(~exist('VFCHRDBP','var'))||...
           (~exist('VFCHRDR','var'))||...
           (~exist('VFSAVSI','var'))||(~exist('VFSAVSO','var'))
            drawvfp=0;
            disp(['Insufficient ventral fin parameter!',...
                  ' Ventral fin will not be drawn!'])
        else
            drawvfp=1;
        end
    else
        drawvfp=0;
        disp(['Unexpected ventral fin type parameter!',...
              ' Ventral fin will not be drawn!'])
    end
    %Checking ventral fin parameter from SYNTHS namecard
    if (~exist('XVF','var'))||(~exist('ZVF','var'))
        drawvtp=0;
        disp(['Undefined ventral fin synths parameter!',...
              ' Ventral fin will not be drawn!'])
    end
    %Determining VFCHSTAT value
    if ~exist('VFCHSTAT','var')
        VFCHSTAT=0;
    end
    %Calculating ventral fin line based on vertical parameter read
    if drawvfp==1
        %Calculating LE and TE line for straight tapered planform
        if VFTYPE==1
            xvfp=[XVF,...
                  (XVF+(VFCHSTAT*VFCHRDR)+(VFSSPN*tand(VFSAVSI))-...
                                          (VFCHSTAT*VFCHRDTP)),...
                  (XVF+(VFCHSTAT*VFCHRDR)+(VFSSPN*tand(VFSAVSI))+...
                                          ((1-VFCHSTAT)*VFCHRDTP)),...
                   XVF+VFCHRDR];
            yvfp=[VFAT*VFCHRDR,VFAT*VFCHRDTP,-VFAT*VFCHRDTP,-VFAT*VFCHRDR];
            zvfp=ZVF+[0,VFSSPN,VFSSPN,0];
        end
        %Calculating LE and TE line for double cranked planform
        if (VFTYPE==2)||(VFTYPE==3)
            xvfp=[XVF,...
                  (XVF+(VFCHSTAT*VFCHRDR)+...
                       ((VFSSPN-VFSSPNOP)*tand(VFSAVSI))-...
                       (VFCHSTAT*VFCHRDBP)),...
                  (XVF+(VFCHSTAT*VFCHRDR)+...
                       ((VFSSPN-VFSSPNOP)*tand(VFSAVSI))+...
                       (VFSSPNOP*tand(VFSAVSO))-...
                       (VFCHSTAT*VFCHRDTP)),...
                  (XVF+(VFCHSTAT*VFCHRDR)+...
                       ((VFSSPN-VFSSPNOP)*tand(VFSAVSI))+...
                       (VFSSPNOP*tand(VFSAVSO))+...
                       ((1-VFCHSTAT)*VFCHRDTP)),...
                  (XVF+(VFCHSTAT*VFCHRDR)+...
                       ((VFSSPN-VFSSPNOP)*tand(VFSAVSI))+...
                       (VFSSPNOP*tand(VFSAVSO))+...
                       ((1-VFCHSTAT)*VFCHRDBP)),...
                  XVF+VFCHRDR];
            yvfp=[VFAT*VFCHRDR,VFAT*VFCHRDBP,VFAT*VFCHRDTP,...
                  -VFAT*VFCHRDTP,-VFAT*VFCHRDBP,-VFAT*VFCHRDR];
            zvfp=ZVF+[0,(VFSSPN-VFSSPNOP),VFSSPNOP,...
                      VFSSPNOP,(VFSSPN-VFSSPNOP),0];
        end
    end
    end
%Performing check and calculation for twin vertical tail drawing
    if tvtstat==1
    %Checking twin vertical plane parameter from TVTPAN namecard
    if (~exist('TVTBH','var'))||...
       ((~exist('TVTBV','var'))&&(~exist('TVTBVP','var')))||...
       (~exist('TVTVLP','var'))||(~exist('TVTZP','var'))||...
       (~exist('TVTSV','var'))
        drawtvt=0;
        disp(['Insufficient twin vertical tail parameter!',...
              ' Twin vertical tail will not be drawn!'])
    else
        drawtvt=1;
        if ~exist('TVTBV','var')
            TVTBV=0;
        end
        if ~exist('TVTBVP','var')
            TVTBVP=0;
        end
        if ~exist('TVTPHITE','var')
            TVTPHITE=0;
        end
    end
    end
    %Calculating twin vertical tail line based on vertical parameter read
    %to be added
%Generating figure for three view drawing
    tvdfigure=figure('Name','Three View Drawing',...
                     'NumberTitle','Off',...
                     'Units','normalized',...
                     'Position',[0.1,0.075,0.8,0.8]);
    topviewaxis=axes('Parent',tvdfigure,...
                     'Box','on',...
                     'XAxisLocation','top',...
                     'YAxisLocation','right',...
                     'Units','normalized',...
                     'Position',[0.55,0.55,0.4,0.4]);
    uicontrol('Parent',tvdfigure,...
              'Style','text',...
              'String','Top View Drawing',...
              'HorizontalAlignment','left',...
              'BackgroundColor',[0.8,0.8,0.8],...
              'Units','normalized',...
              'Position',[0.551,0.55,0.1,0.025])
    sideviewaxis=axes('Parent',tvdfigure,...
                      'Box','on',...
                      'XAxisLocation','bottom',...
                      'YAxisLocation','right',...
                      'Units','normalized',...
                      'Position',[0.55,0.05,0.4,0.4]);
    uicontrol('Parent',tvdfigure,...
              'Style','text',...
              'String','Side View Drawing',...
              'HorizontalAlignment','left',...
              'BackgroundColor',[0.8,0.8,0.8],...
              'Units','normalized',...
              'Position',[0.551,0.449-0.025,0.1,0.025])
    frontviewaxis=axes('Parent',tvdfigure,...
                       'Box','on',...
                       'XAxisLocation','bottom',...
                       'YAxisLocation','left',...
                       'Units','normalized',...
                       'Position',[0.05,0.05,0.4,0.4]);
    uicontrol('Parent',tvdfigure,...
              'Style','text',...
              'String','Front View Drawing',...
              'HorizontalAlignment','right',...
              'BackgroundColor',[0.8,0.8,0.8],...
              'Units','normalized',...
              'Position',[0.449-0.1,0.449-0.025,0.1,0.025])
    wingaflaxis=axes('Parent',tvdfigure,...
                     'Box','on',...
                     'Units','normalized',...
                     'Position',[0.1,0.85,0.3,0.1]);
    uicontrol('Parent',tvdfigure,...
              'Style','text',...
              'String','Wing Airfoill',...
              'HorizontalAlignment','right',...
              'BackgroundColor',[0.8,0.8,0.8],...
              'Units','normalized',...
              'Position',[0.399-0.075,0.85,0.075,0.025])
    htpaflaxis=axes('Parent',tvdfigure,...
                    'Box','on',...
                    'Units','normalized',...
                    'Position',[0.1,0.7,0.3,0.1]);
    uicontrol('Parent',tvdfigure,...
              'Style','text',...
              'String','HTP Airfoill',...
              'HorizontalAlignment','right',...
              'BackgroundColor',[0.8,0.8,0.8],...
              'Units','normalized',...
              'Position',[0.399-0.075,0.7,0.075,0.025])
    vtpaflaxis=axes('Parent',tvdfigure,...
                    'Box','on',...
                    'Units','normalized',...
                    'Position',[0.1,0.55,0.3,0.1]);
    uicontrol('Parent',tvdfigure,...
              'Style','text',...
              'String','VTP Airfoill',...
              'HorizontalAlignment','right',...
              'BackgroundColor',[0.8,0.8,0.8],...
              'Units','normalized',...
              'Position',[0.399-0.075,0.55,0.075,0.025])
%Drawing aircraft's topview
    %Holding axis
    hold(topviewaxis,'on')
    %Determining fuselage most upper limit for wing and h-tail placement
    if (exist('ZU','var'))&&(exist('R','var'))
        testval=max(ZU);
    elseif (~exist('ZU','var'))&&(exist('R','var'))
        testval=max(R);
    else
        testval=-Inf;
    end
    %Drawing low-mounted wing
    if wingstat==1
    if drawwing==1
    if ZW<testval
        wtv_left=fill([xwing,xwing(end:-1:1)],-[ywing,ywing(end:-1:1)],...
                      'w','Parent',topviewaxis);
        wtv_right=fill([xwing,xwing(end:-1:1)],[ywing,ywing(end:-1:1)],...
                       'w','Parent',topviewaxis);
    end
    end
    end
    %Drawing low-mounted horizontal tail
    if htpstat==1
    if drawhtp==1
    if ZH<testval
        htv_left=fill([xhtp,xhtp(end:-1:1)],-[yhtp,yhtp(end:-1:1)],'w',...
                      'Parent',topviewaxis);
        htv_right=fill([xhtp,xhtp(end:-1:1)],[yhtp,yhtp(end:-1:1)],'w',...
                       'Parent',topviewaxis);
    end
    end
    end
    %Drawing fuselage
    if bodystat==1
    if drawfuselage==1
        ftv=fill([X(1),X,X(end:-1:1),X(1)],[0,-R,R(end:-1:1),0],'w',...
                 'Parent',topviewaxis);
    end
    end
    %Drawing high-mounted wing
    if wingstat==1
    if drawwing==1
    if ZW>=testval
        wtv_left=fill([xwing,xwing(end:-1:1)],-[ywing,ywing(end:-1:1)],...
                      'w','Parent',topviewaxis);
        wtv_right=fill([xwing,xwing(end:-1:1)],[ywing,ywing(end:-1:1)],...
                       'w','Parent',topviewaxis);
    end
    end
    end
    %Drawing high-mounted horizontal tail
    if htpstat==1
    if drawhtp==1
    if ZH>=testval
        htv_left=fill([xhtp,xhtp(end:-1:1)],-[yhtp,yhtp(end:-1:1)],'w',...
                      'Parent',topviewaxis);
        htv_right=fill([xhtp,xhtp(end:-1:1)],[yhtp,yhtp(end:-1:1)],'w',...
                       'Parent',topviewaxis);
    end
    end
    end
    %Drawing vertical tail
    if vtpstat==1
    if drawvtp==1
        if VTYPE==1
            XVTIP=xvtp(2);
        elseif (VTYPE==2)||(VTYPE==3)
            XVTIP=xvtp(3);
        end
        if XV<=XVTIP
        vtv_rear=fill([XV+([xafl_r,xafl_r(end-1:-1:1)]*VCHRDR),...
                       XVTIP+([xafl_r,xafl_r(end-1:-1:1)]*VCHRDTP)],...
                      [([yafl_r,-yafl_r(end-1:-1:1)]*VCHRDR*VAT),...
                       ([-yafl_r,yafl_r(end-1:-1:1)]*VCHRDTP*VAT)],...
                      'w','Parent',topviewaxis);
        end
        vtv_front=fill([XV+([xafl_f(end:-1:2),xafl_f]*VCHRDR),...
                        XVTIP+([xafl_f(end:-1:2),xafl_f]*VCHRDTP)],...
                       [([-yafl_f(end:-1:2),yafl_f]*VCHRDR*VAT),...
                        ([yafl_f(end:-1:2),-yafl_f]*VCHRDTP*VAT)],...
                       'w','Parent',topviewaxis);
        if XV>=XVTIP
        vtv_rear=fill([XV+([xafl_r,xafl_r(end-1:-1:1)]*VCHRDR),...
                       XVTIP+([xafl_r,xafl_r(end-1:-1:1)]*VCHRDTP)],...
                      [([yafl_r,-yafl_r(end-1:-1:1)]*VCHRDR*VAT),...
                       ([-yafl_r,yafl_r(end-1:-1:1)]*VCHRDTP*VAT)],...
                      'w','Parent',topviewaxis);
        end
        vtv_top=fill(XVTIP+([xafl_f,xafl_r,...
                             xafl_r(end-1:-1:1),xafl_f(end-1:-1:1)]*...
                            VCHRDTP),...
                     ([yafl_f,yafl_r,...
                       -yafl_r(end-1:-1:1),-yafl_f(end-1:-1:1)]*...
                      VCHRDTP*VAT),...
                     'w','Parent',topviewaxis);
    end
    end
    %Equalizing axis scale
    axis(topviewaxis,'equal')
    %Unholding axis
    hold(topviewaxis,'off')
%Drawing aircraft's sideview
    %Holding axis
    hold(sideviewaxis,'on')
    %Drawing vertical tail and ventral fin
    if vfpstat==1
    if drawvfp==1
        vftv=fill([xvfp,xvfp(1)],[zvfp,zvfp(1)],'w','Parent',sideviewaxis);
    end
    end
    if vtpstat==1
    if drawvtp==1
        vtv=fill([xvtp,xvtp(1)],[zvtp,zvtp(1)],'w','Parent',sideviewaxis);
    end
    end
    %Drawing fuselage
    if bodystat==1
    if drawfuselage==1
        if exist('ZU','var')&&exist('ZL','var')
            fsv=fill([X,X(end:-1:1),X(1)],...
                     [ZU,ZL(end:-1:1),ZU(1)],...
                     'w','Parent',sideviewaxis);
        else
            fsv=fill([X(1),X,X(end:-1:1),X(1)],...
                     [0,-R,R(end:-1:1),0],...
                     'w','Parent',sideviewaxis);
        end
    end
    end
    %Drawing wing
    if wingstat==1
    if drawwing==1
        if WTYPE==1
            WCHRDBPtemp=WCHRDTP;
        elseif (WTYPE==2)||(WTYPE==3)
            WCHRDBPtemp=WCHRDBP;
        end
        %Drawing inboard wing
        if (WDHDADI>=0)
            wsv1_t=fill([xwing(1)+([xafl_f,xafl_r]*WCHRDR),...
                         xwing(2)+([xafl_r(end:-1:1),...
                                    xafl_f(end:-1:1)]*WCHRDBPtemp)],...
                        [zwing(1)+([yafl_f,yafl_r]*WCHRDR*WAT),...
                         zwing(2)+([yafl_r(end:-1:1),...
                                    yafl_f(end:-1:1)]*...
                                   WCHRDBPtemp*WAT)],...
                        'w','Parent',sideviewaxis);
        end
        wsv1_b=fill([xwing(1)+([xafl_f,xafl_r]*WCHRDR),...
                     xwing(2)+([xafl_r(end:-1:1),...
                                xafl_f(end:-1:1)]*WCHRDBPtemp)],...
                    [zwing(1)-([yafl_f,yafl_r]*WCHRDR*WAT),...
                     zwing(2)-([yafl_r(end:-1:1),...
                                yafl_f(end:-1:1)]*...
                               WCHRDBPtemp*WAT)],...
                    'w','Parent',sideviewaxis);
        if (WDHDADI<=0)
            wsv1_t=fill([xwing(1)+([xafl_f,xafl_r]*WCHRDR),...
                         xwing(2)+([xafl_r(end:-1:1),...
                                    xafl_f(end:-1:1)]*WCHRDBPtemp)],...
                        [zwing(1)+([yafl_f,yafl_r]*WCHRDR*WAT),...
                         zwing(2)+([yafl_r(end:-1:1),...
                                    yafl_f(end:-1:1)]*...
                                   WCHRDBPtemp*WAT)],...
                        'w','Parent',sideviewaxis);
        end
        %Drawing inboard wing if any
        if (WTYPE==2)||(WTYPE==3)
        if (WDHDADI>=0)
            wsv2_t=fill([xwing(2)+([xafl_f,xafl_r]*WCHRDBPtemp),...
                         xwing(3)+([xafl_r(end:-1:1),...
                                    xafl_f(end:-1:1)]*WCHRDTP)],...
                        [zwing(2)+([yafl_f,yafl_r]*WCHRDBPtemp*WAT),...
                         zwing(3)+([yafl_r(end:-1:1),...
                                    yafl_f(end:-1:1)]*...
                                   WCHRDTP*WAT)],...
                        'w','Parent',sideviewaxis);
        end
        wsv2_b=fill([xwing(2)+([xafl_f,xafl_r]*WCHRDBPtemp),...
                     xwing(3)+([xafl_r(end:-1:1),...
                                xafl_f(end:-1:1)]*WCHRDTP)],...
                    [zwing(2)-([yafl_f,yafl_r]*WCHRDBPtemp*WAT),...
                     zwing(3)-([yafl_r(end:-1:1),...
                                yafl_f(end:-1:1)]*...
                               WCHRDTP*WAT)],...
                    'w','Parent',sideviewaxis);
        if (WDHDADI<=0)
            wsv2_t=fill([xwing(2)+([xafl_f,xafl_r]*WCHRDBPtemp),...
                         xwing(3)+([xafl_r(end:-1:1),...
                                    xafl_f(end:-1:1)]*WCHRDTP)],...
                        [zwing(2)+([yafl_f,yafl_r]*WCHRDBPtemp*WAT),...
                         zwing(3)+([yafl_r(end:-1:1),...
                                    yafl_f(end:-1:1)]*...
                                   WCHRDTP*WAT)],...
                        'w','Parent',sideviewaxis);
        end
        end
    end
    end
    %Drawing horizontal tail
    if htpstat==1
    if drawhtp==1
        if HTYPE==1
            HCHRDBPtemp=HCHRDTP;
        elseif (HTYPE==2)||(HTYPE==3)
            HCHRDBPtemp=HCHRDBP;
        end
        %Drawing inboard wing
        if (HDHDADI>=0)
            hsv1_t=fill([xhtp(1)+([xafl_f,xafl_r]*HCHRDR),...
                         xhtp(2)+([xafl_r(end:-1:1),...
                                   xafl_f(end:-1:1)]*HCHRDBPtemp)],...
                        [zhtp(1)+([yafl_f,yafl_r]*HCHRDR*HAT),...
                         zhtp(2)+([yafl_r(end:-1:1),...
                                   yafl_f(end:-1:1)]*...
                                  HCHRDBPtemp*HAT)],...
                        'w','Parent',sideviewaxis);
        end
        hsv1_b=fill([xhtp(1)+([xafl_f,xafl_r]*HCHRDR),...
                     xhtp(2)+([xafl_r(end:-1:1),...
                               xafl_f(end:-1:1)]*HCHRDBPtemp)],...
                    [zhtp(1)-([yafl_f,yafl_r]*HCHRDR*HAT),...
                     zhtp(2)-([yafl_r(end:-1:1),...
                               yafl_f(end:-1:1)]*...
                              HCHRDBPtemp*HAT)],...
                    'w','Parent',sideviewaxis);
        if (HDHDADI<=0)
            hsv1_t=fill([xhtp(1)+([xafl_f,xafl_r]*HCHRDR),...
                         xhtp(2)+([xafl_r(end:-1:1),...
                                   xafl_f(end:-1:1)]*HCHRDBPtemp)],...
                        [zhtp(1)+([yafl_f,yafl_r]*HCHRDR*HAT),...
                         zhtp(2)+([yafl_r(end:-1:1),...
                                   yafl_f(end:-1:1)]*...
                                  HCHRDBPtemp*HAT)],...
                        'w','Parent',sideviewaxis);
        end
        %Drawing inboard wing if any
        if (HTYPE==2)||(HTYPE==3)
        if (HDHDADI>=0)
            hsv2_t=fill([xhtp(2)+([xafl_f,xafl_r]*HCHRDBPtemp),...
                         xhtp(3)+([xafl_r(end:-1:1),...
                                   xafl_f(end:-1:1)]*HCHRDTP)],...
                        [zhtp(2)+([yafl_f,yafl_r]*HCHRDBPtemp*WAT),...
                         zhtp(3)+([yafl_r(end:-1:1),...
                                   yafl_f(end:-1:1)]*...
                                  HCHRDTP*WAT)],...
                        'w','Parent',sideviewaxis);
        end
        hsv2_b=fill([xhtp(2)+([xafl_f,xafl_r]*HCHRDBPtemp),...
                     xhtp(3)+([xafl_r(end:-1:1),...
                               xafl_f(end:-1:1)]*HCHRDTP)],...
                    [zhtp(2)-([yafl_f,yafl_r]*HCHRDBPtemp*WAT),...
                     zhtp(3)-([yafl_r(end:-1:1),...
                               yafl_f(end:-1:1)]*...
                              HCHRDTP*WAT)],...
                    'w','Parent',sideviewaxis);
        if (HDHDADI<=0)
            hsv2_t=fill([xhtp(2)+([xafl_f,xafl_r]*HCHRDBPtemp),...
                         xhtp(3)+([xafl_r(end:-1:1),...
                                   xafl_f(end:-1:1)]*HCHRDTP)],...
                        [zhtp(2)+([yafl_f,yafl_r]*HCHRDBPtemp*WAT),...
                         zhtp(3)+([yafl_r(end:-1:1),...
                                   yafl_f(end:-1:1)]*...
                                  HCHRDTP*WAT)],...
                        'w','Parent',sideviewaxis);
        end
        end
    end
    end
    %Equalizing axis scale
    axis(sideviewaxis,'equal')
    %Unholding axis
    hold(sideviewaxis,'off')
%Drawing aircraft's frontview
    %Holding axis
    hold(frontviewaxis,'on')
    %Drawing ventral fin and vertical tail
    if vtpstat==1
    if drawvtp==1
        vfv=fill([0,yvtp,0],[ZV,zvtp,ZV],'w',...
                 'Parent',frontviewaxis);
    end
    end
    %Drawing horizontal tail
    if htpstat==1
    if drawhtp==1
        hfv=fill([yhtp,-yhtp(end:-1:1)],[zhtpf,zhtpf(end:-1:1)],'w',...
                 'Parent',frontviewaxis);
    end
    end
    %Drawing wing
    if wingstat==1
    if drawwing==1
        wfv=fill([ywing,-ywing(end:-1:1)],[zwingf,zwingf(end:-1:1)],'w',...
                 'Parent',frontviewaxis);
    end
    end
    %Drawing fuselage
    if bodystat==1
    if drawfuselage==1
        if exist('ZU','var')&&exist('ZL','var')
            ffv=rectangle('Position',[-max(R),min(ZL)...
                                      2*max(R),max(ZU)-min(ZL)],...
                          'Curvature',[1,1],...
                          'FaceColor','w',...
                          'Parent',frontviewaxis);
        else
            ffv=rectangle('Position',[-max(R),-max(R),...
                                      2*max(R),2*max(R)],...
                          'Curvature',[1,1],...
                          'FaceColor','w',...
                          'Parent',frontviewaxis);
        end
    end
    end
    %Equalizing axis scale
    axis(frontviewaxis,'equal')
    %Unholding axis
    hold(frontviewaxis,'off')
%Drawing wing's airfoil
    %Holding axis
    hold(wingaflaxis,'on')
    %Drawing airfoil
    if waflstat==1
    if drawwingafl==1
        waflu=plot(WAFLX,WAFLYU,'Parent',wingaflaxis);
        wafll=plot(WAFLX,WAFLYL,'Parent',wingaflaxis);
    end
    end
    %Equalizing axis scale
    axis(wingaflaxis,'equal')
    %Unholding axis
    hold(wingaflaxis,'off')
%Drawing horizontal tail's airfoil
    %Holding axis
    hold(htpaflaxis,'on')
    %Drawing airfoil
    if haflstat==1
    if drawhtpafl==1
        haflu=plot(HAFLX,HAFLYU,'Parent',htpaflaxis);
        hafll=plot(HAFLX,HAFLYL,'Parent',htpaflaxis);
    end
    end
    %Equalizing axis scale
    axis(htpaflaxis,'equal')
    %Unholding axis
    hold(htpaflaxis,'off')
%Drawing vertical tail's airfoil
    %Holding axis
    hold(vtpaflaxis,'on')
    %Drawing airfoil
    if vaflstat==1
    if drawvtpafl==1
        vaflu=plot(VAFLX,VAFLYU,'Parent',vtpaflaxis);
        vafll=plot(VAFLX,VAFLYL,'Parent',vtpaflaxis);
    end
    end
    %Equalizing axis scale
    axis(vtpaflaxis,'equal')
    %Unholding axis
    hold(vtpaflaxis,'off')
%CodeEndREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH-

end


%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
%LocalFunction
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
function [AFLX,AFLYU,AFLYL]=generateNACAairfoil(NACATYPE,NACA)
    if NACATYPE==1
        [xu,yu,xl,yl,~,~]=GenerateNACASeries16Airfoil(NACA,20,'Uniform');
    elseif NACATYPE==4
        [xu,yu,xl,yl,~,~]=GenerateNACASeries4Airfoil(NACA,20,'Uniform');
    elseif NACATYPE==5
        [xu,yu,xl,yl,~,~]=GenerateNACASeries5Airfoil(NACA,20,'Uniform');
    elseif NACATYPE==6
        [xu,yu,xl,yl,~,~]=GenerateNACASeries6Airfoil(NACA,20,'Uniform');
    end
    xu(1)=0;
    xu(end)=1;
    xl(1)=0;
    xl(end)=1;
    AFLX=0:0.05:1;
    AFLYU=interp1(xu',yu',AFLX);
    AFLYL=interp1(xl',yl',AFLX);
end
%REPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASHREPLACE_WITH_DASH_DASH
##### SOURCE END #####
--></body></html>